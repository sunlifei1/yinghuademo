(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-login-pwdPage"],{"0433":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("4d63"),n("ac1f"),n("25f0");function a(){var t=new RegExp(/\d*$/),e=t.exec(window.location.hash)[0];return e}},"14ca":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isAlert,expression:"isAlert"}],staticClass:"alert"},[t._v(t._s(t.alert))])])],1)},i=[],o={name:"alert",props:{alert:{type:String},isAlert:{type:Boolean}}},r=o,s=(n("19f2"),n("2877")),c=Object(s["a"])(r,a,i,!1,null,"3d2b7562",null);e["a"]=c.exports},"19f2":function(t,e,n){"use strict";n("5bc7")},"25f0":function(t,e,n){"use strict";var a=n("6eeb"),i=n("825a"),o=n("d039"),r=n("ad6d"),s="toString",c=RegExp.prototype,l=c[s],u=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=s;(u||d)&&a(RegExp.prototype,s,(function(){var t=i(this),e=String(t.source),n=t.flags,a=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?r.call(t):n);return"/"+e+"/"+a}),{unsafe:!0})},"4d63":function(t,e,n){var a=n("83ab"),i=n("da84"),o=n("94ca"),r=n("7156"),s=n("9bf2").f,c=n("241c").f,l=n("44e7"),u=n("ad6d"),d=n("9f7f"),f=n("6eeb"),g=n("d039"),p=n("69f3").set,h=n("2626"),v=n("b622"),m=v("match"),b=i.RegExp,w=b.prototype,x=/a/g,E=/a/g,_=new b(x)!==x,S=d.UNSUPPORTED_Y,y=a&&o("RegExp",!_||S||g((function(){return E[m]=!1,b(x)!=x||b(E)==E||"/a/i"!=b(x,"i")})));if(y){var L=function(t,e){var n,a=this instanceof L,i=l(t),o=void 0===e;if(!a&&i&&t.constructor===L&&o)return t;_?i&&!o&&(t=t.source):t instanceof L&&(o&&(e=u.call(t)),t=t.source),S&&(n=!!e&&e.indexOf("y")>-1,n&&(e=e.replace(/y/g,"")));var s=r(_?new b(t,e):b(t,e),a?this:w,L);return S&&n&&p(s,{sticky:n}),s},I=function(t){t in L||s(L,t,{configurable:!0,get:function(){return b[t]},set:function(e){b[t]=e}})},T=c(b),$=0;while(T.length>$)I(T[$++]);w.constructor=L,L.prototype=w,f(i,"RegExp",L)}h("RegExp")},"5bc7":function(t,e,n){},6248:function(t,e,n){},"844d":function(t,e,n){},c46d:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn"},[n("button",{attrs:{id:"btn"}}),n("label",{ref:"btnText",staticClass:"label",attrs:{for:"btn"}},[t._v(t._s(t.title))])])},i=[],o={name:"loginBtn",props:{title:{type:String,default:"下一步"}}},r=o,s=(n("d086"),n("2877")),c=Object(s["a"])(r,a,i,!1,null,"47b0b276",null);e["a"]=c.exports},c629:function(t,e,n){},d086:function(t,e,n){"use strict";n("844d")},d916:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"inp border-bottom"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],ref:"inputs",attrs:{type:"password",placeholder:"请输入密码",autofocus:"autofocus"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}}),n("span",{on:{click:t.goForget}},[t._v("忘记密码")])]),n("login-btn",{attrs:{title:t.title},nativeOn:{click:function(e){return t.logon(e)}}}),n("alert",{attrs:{"is-alert":t.alert,alert:t.alertText}}),n("loading",{attrs:{"is-loading":t.loading}})],1)},i=[],o=n("0433"),r=n("c46d"),s=n("14ca"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"loading"},[n("p")])])],1)},l=[],u={name:"alert",props:{isLoading:{type:Boolean}}},d=u,f=(n("dd2f"),n("2877")),g=Object(f["a"])(d,c,l,!1,null,"0a996bb8",null),p=g.exports,h=n("365c"),v={name:"phonePwd",data:function(){return{pwd:"",alert:!1,alertText:"用户名或密码错误",title:"登录",loading:!1,flag:!0,timer:null}},components:{loginBtn:r["a"],alert:s["a"],loading:p},methods:{clearInput:function(){this.pwd=""},alertEvent:function(){var t=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.alert=!0,this.timer=setTimeout((function(){t.alert=!1}),5e3)},_getLoginState:function(){var t=this;h["a"].loginStatusFn().then((function(e){console.log(e);var n=e.data.profile.userId;if(200===e.data.code){var a=e.data.profile;t.$store.commit("LOGIN_STATE",1),localStorage.setItem("loginState",1),localStorage.setItem("avatarUrl",a.avatarUrl),localStorage.setItem("nickname",a.nickname),t.$store.commit("ACCOUNT_UID",n),localStorage.setItem("accountUid",n),t._getUserDetail(n)}})).catch((function(e){t.flag=!0,console.log(e)}))},goForget:function(){var t=this.$route.query.phone;this.$router.push("/verify?phone=".concat(t))},_getUserDetail:function(t){var e=this;console.log("1111"),h["a"].userDetailFn(t).then((function(t){var n=t.data;200===n.code&&(e.$store.commit("SET_LEVEL",n.level),localStorage.setItem("level",n.level),e.$router.push({path:"/find"}),console.log("跳转了"),location.reload())}))},passwordIsCorrect:function(t){t||(this.alertText="请输入密码",this.alertEvent());var e=Object(o["a"])();this._isSure(e,t)},_isSure:function(t,e){var n=this;h["a"].phoneLoginFn(t,e).then((function(e){502===e.data.code?n.error():(console.log(e),localStorage.setItem("account",t),n.success())})).catch((function(t){t&&n.error()}))},success:function(){this.LoadingEnd(),this._getLoginState()},error:function(){this.alertText="用户名或密码错误",this.alertEvent(),this.clearInput(),this.LoadingEnd(),this.flag=!0},logon:function(){this.flag&&(this.flag=!1,this.Loading(),this.passwordIsCorrect(this.pwd))},LoadingEnd:function(){this.title="登录",this.loading=!1},Loading:function(){this.title="登录中...",this.loading=!0},changFocus:function(){var t=this;this.$nextTick((function(e){t.$refs.inputs.focus()}))}},created:function(){this.changFocus()}},m=v,b=(n("dbdd"),Object(f["a"])(m,a,i,!1,null,"fa9842a2",null));e["default"]=b.exports},dbdd:function(t,e,n){"use strict";n("6248")},dd2f:function(t,e,n){"use strict";n("c629")}}]);
//# sourceMappingURL=group-login-pwdPage.3d5ab3ef.js.map