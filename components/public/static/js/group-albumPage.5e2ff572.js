(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-albumPage"],{c404:function(t,a,n){"use strict";n.r(a);var o=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("song-list-page",{attrs:{title:t.title,load:t.load,imgUrl:t.imgUrl,albumTitle:t.name,albumId:t.albumId,idxId:t.idxId,idxComId:t.idxComId,dishId:t.dishId,creatorImgUrl:t.albumInfo.creator?t.albumInfo.creator.avatarUrl:t.albumInfo.album?t.albumInfo.album.artist.picUrl:"",author:t.albumInfo.creator?t.albumInfo.creator.nickname:t.albumInfo.album?t.albumInfo.album.artist.name:"",description:t.albumInfo.description?t.albumInfo.description:t.albumInfo.album?t.albumInfo.album.description:"",commentCount:t.albumInfo.commentCount?t.albumInfo.commentCount:t.albumInfo.album?t.albumInfo.album.info.commentCount:0,shareCount:t.albumInfo.shareCount?t.albumInfo.shareCount:t.albumInfo.album?t.albumInfo.album.info.shareCount:0,trackCount:t.albumInfo.trackCount?t.albumInfo.trackCount:t.albumInfo.album?t.albumInfo.album.size:0,subscribedCount:t.albumInfo.subscribedCount,subscribed:t.albumInfo.subscribed,isSubIn:t.albumInfo.subscribed,playCount:t.albumInfo.playCount},on:{startPlayAll:t.startPlay}},t._l(t.albumInfo.tracks||t.albumInfo.songs,(function(a,o){return n("song-list",{key:o,attrs:{songName:a.name,artists:a.ar,albumName:a.al.name,num:o+1,nowSong:a.id===t.audioSong.id},on:{beginSong:function(n){return t.setAudioList(a,o)}}})})),1)},l=[],u=n("5530"),i=(n("b0c0"),n("2f62")),s=n("63d8"),m=n("4690"),e=n("365c"),b={name:"albumPage",data:function(){return{albumInfo:[],load:!0,dishId:0,idxId:0,idxComId:0,albumId:0,title:"",imgUrl:"",name:""}},components:{songListPage:m["a"],songList:s["a"]},created:function(){this.getParams(),this.load=!0,this.albumInfo=[];var t=this.$route.params.dishId;if(this.albumId)return this.title="歌单",this._getInfo(this.albumId),void this.setAlbumId(this.albumId);t&&(this.title="专辑",this.dishId=+t,this._getDishInfo(t))},activated:function(){this.lastAlbumId!==this.$route.params.albumId&&(this.load=!0,this.getParams(),this._getInfo(this.albumId),this.setAlbumId(this.albumId))},computed:Object(u["a"])({},Object(i["c"])({audioSong:"AUDIO_ING_SONG",lastAlbumId:"ALBUM_ID"})),methods:Object(u["a"])(Object(u["a"])({},Object(i["d"])({setAlbumId:"SET_USING_ALBUM_ID"})),{},{_getInfo:function(t){var a=this;e["a"].albumDetailFn(t).then((function(t){console.log(t.data);var n=t.data;200===n.code&&(a.albumInfo=n.playlist,a.load=!1)})).catch((function(t){console.log(t)}))},_getIdxInfo:function(t){var a=this;e["a"].idxListFn(t).then((function(t){var n=t.data;200===n.code&&(a.albumInfo=n.playlist,a.idxComId=n.playlist.id,a.load=!1)}))},_getDishInfo:function(t){var a=this;e["a"].getDishInfoFn(t).then((function(t){console.log(t.data);var n=t.data;200===n.code&&(a.albumInfo=n,a.load=!1)}))},setAudioList:function(t,a){this.selectPlay({list:this.albumInfo.tracks||this.albumInfo.songs,index:a})},startPlay:function(){this.startPlayAll({list:this.albumInfo.tracks||this.albumInfo.songs})},getParams:function(){this.albumId=+this.$route.params.albumId||0,this.name=this.$route.params.name,this.imgUrl=this.$route.params.imgUrl}},Object(i["b"])(["selectPlay","startPlayAll"])),destroyed:function(){this.albumInfo=[],this.load=!0}},d=b,r=n("2877"),I=Object(r["a"])(d,o,l,!1,null,"1df477ac",null);a["default"]=I.exports}}]);
//# sourceMappingURL=group-albumPage.5e2ff572.js.map