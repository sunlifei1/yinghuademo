(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-resultPage"],{"1c00":function(t,e,s){},"260f":function(t,e,s){"use strict";s("1c00")},"3c6c":function(t,e,s){"use strict";var i=s("2b0e");e["a"]=new i["a"]},"558a":function(t,e,s){},"562e":function(t,e,s){"use strict";s("c7cc")},"5c98":function(t,e,s){"use strict";s("701d")},"701d":function(t,e,s){},"7c5a":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("search-input",{attrs:{keyword:t.key}}),s("nav-list"),s("router-view",{staticStyle:{height:"87vh","overflow-y":"scroll"},attrs:{keywords:t.key}})],1)},n=[],a=s("5530"),o=s("f5fc"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("slider-nav",{ref:"navs",attrs:{list:t.list}})},c=[],u=s("2f62"),d=s("3c6c"),l=s("d7be"),h={name:"",mounted:function(){this.setLinkPage(),this.getKey()},computed:Object(a["a"])({},Object(u["c"])({page:"LINK_PAGE"})),methods:{setLinkPage:function(){var t=this.$route.params.id;this.linkPage=t},getKey:function(){var t=this;d["a"].$on("push",(function(e){t.linkPage=e}))},getPage:function(t){var e=this.toLink.indexOf(t);this.$refs.navs.handleScroll(e,85)}},watch:{linkPage:function(t){this.list=[{path:"/composite/".concat(t),text:"综合"},{path:"/song/".concat(t),text:"单曲"},{path:"/video/".concat(t),text:"视频"},{path:"/artist/".concat(t),text:"歌手"},{path:"/album/".concat(t),text:"专辑"},{path:"/playList/".concat(t),text:"歌单"},{path:"/djRadio/".concat(t),text:"主播电台"},{path:"/user/".concat(t),text:"用户"}]},page:function(t){this.getPage(t)}},data:function(){return{linkPage:"",list:[],toLink:["composite","song","video","artist","album","playList","djRadio","user"]}},components:{sliderNav:l["a"]}},f=h,p=s("2877"),g=Object(p["a"])(f,r,c,!1,null,"015584a6",null),m=g.exports,y={name:"searchResults",components:{searchInput:o["a"],navList:m},data:function(){return{key:""}},watch:{$route:function(t,e){this.key=t.params.id}},computed:Object(a["a"])({},Object(u["c"])({load:"LOAD"})),created:function(){this.setKey()},methods:{setKey:function(){this.key=this.$route.params.id}}},v=y,w=(s("902f"),Object(p["a"])(v,i,n,!1,null,"5951fcb2",null));e["default"]=w.exports},"8e04":function(t,e,s){"use strict";s("9d85")},"8e6d":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"titleFixed"},[s("general-nav",{staticClass:"pd23",on:{returnPage:t.returnPage}},[s("span",{staticClass:"text"},[t._v("歌手分类")])]),s("select-list",{staticClass:"pd23",attrs:{firstList:t.firstList,secondList:t.secondList,firstId:t.firstId,secondId:t.secondId},on:{"update:firstId":function(e){t.firstId=e},"update:first-id":function(e){t.firstId=e},"update:secondId":function(e){t.secondId=e},"update:second-id":function(e){t.secondId=e},update_firstID:t.updateFirst,update_secondID:t.updateSecond}})],1),s("h1",{ref:"title",staticClass:"title pd23"},[t._v("热门歌手")]),s("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]}),t._l(t.allArtistList,(function(e,i){return s("artist",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],key:i,staticClass:"pd23",attrs:{circle:!0,ImgUrl:e.img1v1Url,name:e.name,isIn:e.accountId}})}))],2)},n=[],a=s("c0d2"),o=s("298d"),r=s("9a9b"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"list-wrap"},t._l(t.firstList,(function(e){return s("li",{key:e.id,staticClass:"list-item",class:{active:e.id===t._firstId},on:{click:function(s){return t.selectFirst(e.id)}}},[t._v(t._s(e.text))])})),0),s("ul",{staticClass:"list-wrap"},t._l(t.secondList,(function(e){return s("li",{key:e.id,staticClass:"list-item",class:{active:e.id===t._secondId},on:{click:function(s){return t.selectSecond(e.id)}}},[t._v(t._s(e.text))])})),0)])},u=[],d={name:"",props:{firstList:{type:Array},secondList:{type:Array},firstId:{type:String},secondId:{type:String}},computed:{_firstId:{get:function(){return this.firstId},set:function(t){this.$emit("update_firstID",t)}},_secondId:{get:function(){return this.secondId},set:function(t){this.$emit("update_secondID",t)}}},methods:{selectFirst:function(t){this._firstId=t},selectSecond:function(t){this._secondId=t}}},l=d,h=(s("8e04"),s("2877")),f=Object(h["a"])(l,c,u,!1,null,"493320ed",null),p=f.exports,g=s("365c"),m={name:"",data:function(){return{loading:!0,allArtistList:[],firstId:"10",secondId:"01",firstList:[{text:"华语",id:"10"},{text:"欧美",id:"20"},{text:"日本",id:"60"},{text:"韩国",id:"70"},{text:"其他",id:"40"}],secondList:[{text:"男",id:"01"},{text:"女",id:"02"},{text:"乐队/组合",id:"03"}]}},created:function(){this.load=!0,this._getSingerInfo(this.firstId,this.secondId)},mounted:function(){window.addEventListener("scroll",this.handleScroll,!0)},methods:{_getSingerInfo:function(t,e,s,i,n){var a=this,o=t+""+e;g["a"].singerClassFn(o,s,i,n).then((function(t){var e=t.data;200===e.code&&(a.allArtistList=e.artists,a.loading=!1)}))},updateFirst:function(t){this.firstId=t,this.changeId()},updateSecond:function(t){this.secondId=t,this.changeId()},changeId:function(){this.loading=!0,this._getSingerInfo(this.firstId,this.secondId)},returnPage:function(){this.$router.go(-1)}},components:{selectList:p,generalNav:a["a"],artist:o["a"],pageLoading:r["a"]}},y=m,v=(s("562e"),Object(h["a"])(y,i,n,!1,null,"81dc18b6",null));e["default"]=v.exports},"902f":function(t,e,s){"use strict";s("558a")},"9d85":function(t,e,s){},c7cc:function(t,e,s){},d7be:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"navs",staticClass:"wrapper pd23"},t._l(t.list,(function(e,i){return s("router-link",{key:i,staticClass:"nav-list",style:{minWidth:t.minWidth},attrs:{to:e.path,replace:""}},[t._v(t._s(e.text)+t._s(t._f("empty")(e.num)))])})),1)},n=[],a={name:"",props:{list:{type:Array},minWidth:{type:String,default:"1.2rem"}},filters:{empty:function(t){return t?" "+t:""}},methods:{handleScroll:function(t,e){this.$refs.navs.scrollLeft=t*e}}},o=a,r=(s("5c98"),s("2877")),c=Object(r["a"])(o,i,n,!1,null,"32bda801",null);e["a"]=c.exports},f5fc:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper pd23"},[s("i",{staticClass:"iconfont zuojiantou",on:{click:t.returnPage}}),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keywords,expression:"keywords",modifiers:{trim:!0}}],ref:"inp",staticClass:"search",attrs:{type:"text",placeholder:t.placeholder,autofocus:"autofocus"},domProps:{value:t.keywords},on:{focus:t.displayList,input:function(e){e.target.composing||(t.keywords=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("i",{directives:[{name:"show",rawName:"v-show",value:t.keywords,expression:"keywords"}],staticClass:"iconfont guanbi",style:{right:t.Right},on:{click:t.clearInp}}),t.page?s("i",{staticClass:"iconfont geshou",on:{click:t.goSingerPage}}):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],staticClass:"floatInfo"},[s("ul",[s("li",{staticClass:"blue border-bottom",on:{click:function(e){return t.searchKey(t.keywords)}}},[t._v(" 搜索 "),s("span",{staticClass:"text"},[t._v('"'+t._s(t.keywords)+'"')])]),t._l(t.searchList,(function(e,i){return s("li",{key:i,staticClass:"border-bottom",on:{click:function(s){return t.searchKey(e.keyword)}}},[s("i",{staticClass:"iconfont sousuo"}),t._v(" "+t._s(e.keyword)+" ")])}))],2)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],staticClass:"mask",on:{click:t.hideList}})])},n=[],a=(s("1276"),s("ac1f"),s("4de4"),s("365c")),o=s("3c6c"),r={name:"searchInp",props:{page:{type:String},Right:{default:"0.23rem"},keyword:{type:String,default:""}},data:function(){return{searchList:[],keywords:"",showList:!1,time:null,placeholder:""}},created:function(){console.log("我是input的create"),this.changFocus(),this._getPlaceholder(),this.historySearch()},mounted:function(){this.setHistory()},watch:{keywords:function(t,e){this.keywords!==this.keyword&&this.keywords.length>0?this.displayList():this.hideList()},keyword:{immediate:!0,handler:function(t,e){t&&(this.keywords=t)}}},methods:{setKeyword:function(){this.keyword&&(this.keywords=this.keyword)},goSingerPage:function(){this.$router.push("/singer")},historySearch:function(){var t=this;o["a"].$on("search",(function(e){t.searchKey(e)}))},clearInp:function(){this.keywords=""},changFocus:function(){var t=this;this.keyword||this.$nextTick((function(e){t.$refs.inp.focus()}))},returnPage:function(){this.$router.go(-1)},_getPlaceholder:function(){var t=this;a["a"].defaultSearchFn().then((function(e){var s=e.data;200===s.code&&(t.placeholder=s.data.showKeyword)}))},hideList:function(){this.showList=!1},displayList:function(){this.keywords&&(this.showList=!0,this.setSearchList(this.keywords))},_getSuggestList:function(t){var e=this;a["a"].suggestSearchFn(t).then((function(t){var s=t.data;200===s.code&&(e.searchList=s.result.allMatch)}))},setSearchList:function(t){var e=this;this.time&&(clearTimeout(this.time),this.time=null),this.time=setTimeout((function(){e._getSuggestList(t)}),50)},setHistory:function(t){var e=localStorage.getItem("keys")?localStorage.getItem("keys").split(","):[];t&&(e.unshift(t),e=this.unique(e),localStorage.setItem("keys",e)),o["a"].$emit("history",e)},pushKey:function(t){this.$nextTick((function(){o["a"].$emit("push",t)}))},searchKey:function(t){var e=this;this.setHistory(t),this.hideList(),this.clearInp(),setTimeout((function(){e.pushKey(t)}),0),this.$router.push({path:"/composite/".concat(t)})},unique:function(t){if(Array.isArray(t))return t.filter((function(e,s){return t.indexOf(e)===s}));console.log("type error!")},beforeDestroy:function(){this.$Bus.$off("push","history")}}},c=r,u=(s("260f"),s("2877")),d=Object(u["a"])(c,i,n,!1,null,"8225f7a6",null);e["a"]=d.exports}}]);
//# sourceMappingURL=group-resultPage.105b5a4a.js.map