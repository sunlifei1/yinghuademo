(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-homePage"],{"00ea":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{scroll:t.hideVideo}},[i("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}]}),i("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],ref:"public",attrs:{data:t.data},on:{index:t.getIndex}}),i("should-login",{directives:[{name:"show",rawName:"v-show",value:0===t.isLogin,expression:"isLogin === 0"}]})],1)},n=[],s=i("1931"),o=i("193d"),r=i("9a9b"),c=i("a7ec"),l={mixins:[s["b"]],name:"",components:{publicImgCard:o["a"],pageLoading:r["a"],shouldLogin:c["a"]}},u=l,d=i("2877"),h=Object(d["a"])(u,a,n,!1,null,"1b4c25e7",null);e["default"]=h.exports},"0277":function(t,e,i){},"029e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{scroll:t.hideVideo}},[i("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}]}),i("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],ref:"public",attrs:{data:t.data},on:{index:t.getIndex}}),i("should-login",{directives:[{name:"show",rawName:"v-show",value:0===t.isLogin,expression:"isLogin === 0"}]})],1)},n=[],s=i("1931"),o=i("193d"),r=i("9a9b"),c=i("a7ec"),l={mixins:[s["b"]],name:"",components:{publicImgCard:o["a"],pageLoading:r["a"],shouldLogin:c["a"]}},u=l,d=i("2877"),h=Object(d["a"])(u,a,n,!1,null,"0fe5da6d",null);e["default"]=h.exports},"092c":function(t,e,i){},"0d92":function(t,e,i){"use strict";i("0277")},"0fc5":function(t,e,i){},1091:function(t,e,i){},1253:function(t,e,i){"use strict";i("1ece")},"193d":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.data,(function(e,a){return i("div",{key:a,staticClass:"video-item"},[i("div",{staticClass:"videoInfo pd23"},[i("img",{ref:"videoImg",refInFor:!0,attrs:{src:e.data.coverUrl+"?param=360y170",alt:""}}),i("circle-loading",{ref:"load",refInFor:!0,staticClass:"none",attrs:{type:"absolute",width:"6.7rem",height:"3.8rem"}}),i("div",{ref:"playVideo",refInFor:!0,staticClass:"play-video",on:{touchstart:function(e){return t.hideFnBtn(a)}}},[i("video",{ref:"video",refInFor:!0,staticClass:"video_tag",attrs:{src:"localhost"},on:{canplay:function(e){return t.startPlay(a)},timeupdate:function(e){return t.setBarTime(a)}}}),i("div",{ref:"fnBtn",refInFor:!0,staticClass:"fn-btn",on:{click:function(t){t.stopPropagation()}}},[i("span",{ref:"button",refInFor:!0,staticClass:"center-bofang"},[i("i",{staticClass:"video",class:{videobofang1:t.pause==="pause"+a,videozantingtingzhi:t.play==="play"+a},on:{click:function(e){return t.playVideo(a)}}})]),i("bar",{staticClass:"bar",attrs:{index:a,allTime:e.data.durationms,time:t.playTime,width:t.progressWidth},on:{time:t.changeTime}})],1)]),i("span",{staticClass:"tag"},[t._v(t._s(e.data.videoGroup?e.data.videoGroup[0].name:""))]),i("span",{staticClass:"center-bofang"},[i("i",{staticClass:"video videobofang1",on:{click:function(i){return t.playVideo(a,e.data.vid)}}})]),i("span",{staticClass:"go-count"},[i("i",{staticClass:"video videobofang"}),t._v(" "+t._s(t._f("setCount")(e.data.playTime))+" ")]),i("span",{staticClass:"go-time"},[i("i",{staticClass:"video videoyinlebofangxuanlvjiezou"}),t._v(" "+t._s(t._f("setTime")(e.data.durationms))+" ")])],1),i("h1",{staticClass:"title pd23"},[t._v(t._s(e.data.title))]),i("div",{staticClass:"bottom border-top pd23"},[i("div",{staticClass:"creator"},[i("div",{staticClass:"img-info"},[i("img",{attrs:{src:e.data.creator.avatarUrl+"?param=50y50",alt:""}})]),i("span",{staticClass:"name"},[t._v(t._s(e.data.creator.nickname))])]),i("div",{staticClass:"button"},[i("span",{staticClass:"praised",on:{click:function(i){return t.likeVideo(e.data.vid)}}},[i("i",{staticClass:"video videozan"}),i("i",{staticClass:"num"},[t._v(t._s(t._f("setCount")(e.data.praisedCount)))])]),i("span",{staticClass:"comment",on:{click:function(i){return t.toVideoCom(e.data.vid)}}},[i("i",{staticClass:"video videopinglun"}),i("i",{staticClass:"num"},[t._v(t._s(t._f("setCount")(e.data.commentCount)))])]),t._m(0,!0)])]),i("div",{staticClass:"split"})])})),0)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"share"},[i("i",{staticClass:"video videodiandiandian"})])}],o=i("1da1"),r=(i("96cf"),i("caad"),i("2532"),i("ba2d")),c=i("a082"),l=i("222d"),u=i("365c"),d={name:"",data:function(){return{pause:"",play:"",timer:null,playTime:"00:00",allTime:0,progressWidth:0}},props:{data:{type:Array}},filters:{setCount:function(t){return Object(r["c"])(t)},setTime:function(t){return Object(r["d"])(t)}},methods:{playVideo:function(t,e){var i=this;isNaN(a)||a!==t&&this.stopVideoTag(a),a=t,this.$emit("index",t),this.$nextTick(Object(o["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=i.$refs.video[t],!n.src.includes("localhost")){a.next=7;break}return i.$refs.load[t].block(),a.next=5,u["a"].getVideoUrlFn(e);case 5:s=a.sent,n.src=s.data.urls[0].url;case 7:i.showVideoTag(t),i.showFnBtn(t),n.paused?i.videoPlay(n,t):i.videoPause(n,t);case 10:case"end":return a.stop()}}),a)}))))},stopVideoTag:function(t){var e=t||a;if(!isNaN(e)){var i=this.$refs.video[e];this.hideVideoTag(e),i.pause(),i.currentTime=0}},likeVideo:function(t){var e=5;this.$emit("likeVideo",e,t),u["a"].resourceLikeOutFn(e,t).then((function(t){var e=t.data;200===e.code&&console.log(e)}))},showFnBtn:function(t){this.$refs.fnBtn[t].style.zIndex=1,this.play="play".concat(t)},setBarTime:function(t){var e,i,a=this.$refs.video[t],n=Math.floor(a.currentTime/60),s=Math.floor(a.currentTime-60*n);e=n<10?"0"+n:n,i=s<10?"0"+s:s;var o=e+":"+i;this.playTime=o;var r=a.currentTime/a.duration*100;this.setProgress(r)},setProgress:function(t){t<0||t>100||(this.progressWidth=t)},startPlay:function(t){this.$refs.load[t].none()},showVideoTag:function(t){var e=this.$refs.playVideo[t];e.style.zIndex=1},hideVideoTag:function(t){var e=this.$refs.playVideo[t];e.style.zIndex="-1"},videoPlay:function(t,e){t.play(),this.play="play".concat(e),this.pause="",this.hideFnBtn(e)},changeTime:function(t,e){var i=this.$refs.video[e],a=t*i.duration/100;i.currentTime=a,this.videoPlay(i,e)},videoPause:function(t,e){t.pause(),this.hideFnBtn(e),this.pause="pause".concat(e),this.play=""},hideFnBtn:function(t){var e=this;this.showFnBtn(t),e.$refs.fnBtn[t].style.display="block",this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.$refs.fnBtn[t].style.display="none"}),2e3)},toVideoCom:function(t){this.$router.push({name:"videoComments",params:{id:t}})}},components:{circleLoading:c["a"],bar:l["a"]}},h=d,m=(i("1253"),i("2877")),f=Object(m["a"])(h,n,s,!1,null,"4b5ed7e2",null);e["a"]=f.exports},1971:function(t,e,i){},"1da1":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("d3b7");function a(t,e,i,a,n,s,o){try{var r=t[s](o),c=r.value}catch(l){return void i(l)}r.done?e(c):Promise.resolve(c).then(a,n)}function n(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var o=t.apply(e,i);function r(t){a(o,n,s,r,c,"next",t)}function c(t){a(o,n,s,r,c,"throw",t)}r(void 0)}))}}},"1ece":function(t,e,i){},2532:function(t,e,i){"use strict";var a=i("23e7"),n=i("5a34"),s=i("1d80"),o=i("ab13");a({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(s(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"27f4":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"friend-wra"},[t._v(" 静待... ")])},n=[],s=i("1da1"),o=(i("159b"),i("96cf"),i("365c")),r={name:"",data:function(){return{dataInfo:[]}},created:function(){},methods:{_getFriendInfo:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].friendFn();case 2:i=e.sent,a=i.data,200===a.code&&(n=a.event,t.dataInfo=t.getJson(n));case 5:case"end":return e.stop()}}),e)})))()},getJson:function(t){var e=[];return t.forEach((function(t,i){e.push(JSON.parse(t.json));var a=t.rcmdInfo?t.rcmdInfo.userReason:"";e[i].userReason=a})),e}},components:{}},c=r,l=(i("ba0a"),i("2877")),u=Object(l["a"])(c,a,n,!1,null,"5419b826",null);e["default"]=u.exports},3131:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{scroll:t.hideVideo}},[i("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}]}),i("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],ref:"public",attrs:{data:t.data},on:{index:t.getIndex}}),i("should-login",{directives:[{name:"show",rawName:"v-show",value:0===t.isLogin,expression:"isLogin === 0"}]})],1)},n=[],s=i("1931"),o=i("193d"),r=i("9a9b"),c=i("a7ec"),l={mixins:[s["b"]],name:"",components:{publicImgCard:o["a"],pageLoading:r["a"],shouldLogin:c["a"]}},u=l,d=i("2877"),h=Object(d["a"])(u,a,n,!1,null,"68bcf4fc",null);e["default"]=h.exports},"3e6c":function(t,e,i){},"3e73":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"icon-list",class:{width:t.width},on:{click:t.linkTo}},[i("div",{staticClass:"icon",class:{bgcolor:t.bgcolor}},[i("i",{class:t.icons.icon}),t._t("default")],2),i("span",{staticClass:"icon-text"},[t._v(t._s(t.icons.text))])])},n=[],s={name:"",props:{icons:{type:[Object,Array]},width:{type:Boolean},bgcolor:{type:Boolean}},methods:{linkTo:function(){this.$emit("goPage")}}},o=s,r=(i("f08e"),i("2877")),c=Object(r["a"])(o,a,n,!1,null,"0e2b7ae3",null);e["a"]=c.exports},"3fee":function(t,e,i){},4255:function(t,e,i){"use strict";i("85ef")},"4a7c":function(t,e,i){"use strict";i("7a63")},"4d63":function(t,e,i){var a=i("83ab"),n=i("da84"),s=i("94ca"),o=i("7156"),r=i("9bf2").f,c=i("241c").f,l=i("44e7"),u=i("ad6d"),d=i("9f7f"),h=i("6eeb"),m=i("d039"),f=i("69f3").set,v=i("2626"),p=i("b622"),g=p("match"),b=n.RegExp,w=b.prototype,y=/a/g,C=/a/g,x=new b(y)!==y,_=d.UNSUPPORTED_Y,N=a&&s("RegExp",!x||_||m((function(){return C[g]=!1,b(y)!=y||b(C)==C||"/a/i"!=b(y,"i")})));if(N){var L=function(t,e){var i,a=this instanceof L,n=l(t),s=void 0===e;if(!a&&n&&t.constructor===L&&s)return t;x?n&&!s&&(t=t.source):t instanceof L&&(s&&(e=u.call(t)),t=t.source),_&&(i=!!e&&e.indexOf("y")>-1,i&&(e=e.replace(/y/g,"")));var r=o(x?new b(t,e):b(t,e),a?this:w,L);return _&&i&&f(r,{sticky:i}),r},k=function(t){t in L||r(L,t,{configurable:!0,get:function(){return b[t]},set:function(e){b[t]=e}})},I=c(b),T=0;while(I.length>T)k(I[T++]);w.constructor=L,L.prototype=w,h(n,"RegExp",L)}v("RegExp")},"5a34":function(t,e,i){var a=i("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"69f0":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{scroll:t.hideVideo}},[i("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}]}),i("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],ref:"public",attrs:{data:t.data},on:{index:t.getIndex}}),i("should-login",{directives:[{name:"show",rawName:"v-show",value:0===t.isLogin,expression:"isLogin === 0"}]})],1)},n=[],s=i("1931"),o=i("193d"),r=i("9a9b"),c=i("a7ec"),l={mixins:[s["b"]],name:"",components:{publicImgCard:o["a"],pageLoading:r["a"],shouldLogin:c["a"]}},u=l,d=i("2877"),h=Object(d["a"])(u,a,n,!1,null,"7e9c8aea",null);e["default"]=h.exports},"6a29":function(t,e,i){"use strict";i("950a")},"704a":function(t,e,i){"use strict";i("3fee")},"7a63":function(t,e,i){},"85ef":function(t,e,i){},"86d3":function(t,e,i){"use strict";i("092c")},"89ca":function(t,e,i){"use strict";i("e3a2")},"8ca1":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{scroll:t.hideVideo}},[i("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}]}),i("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],ref:"public",attrs:{data:t.data},on:{index:t.getIndex}}),i("should-login",{directives:[{name:"show",rawName:"v-show",value:0===t.isLogin,expression:"isLogin === 0"}]})],1)},n=[],s=i("1931"),o=i("193d"),r=i("9a9b"),c=i("a7ec"),l={mixins:[s["b"]],name:"",components:{publicImgCard:o["a"],pageLoading:r["a"],shouldLogin:c["a"]}},u=l,d=i("2877"),h=Object(d["a"])(u,a,n,!1,null,"fc74e4fa",null);e["default"]=h.exports},"91dd":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",style:[t.audioList.length?{paddingBottom:"1rem"}:{}]},[i("home-icons"),i("home-list",{attrs:{num:t.homeListNum}}),i("div",{staticClass:"split"}),i("song-list",{ref:"songList",attrs:{index:t.songListNum},on:{showSlider:t.showSlider,heartMode:t._heartMode}}),i("slider",{ref:"slider",attrs:{title:t.title,id:t.id,homeFavoritelistSlider:t.homeFavoritelistSlider,homePlaylistSlider:t.homePlaylistSlider}})],1)},n=[];function s(t){if(Array.isArray(t))return t}i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0");function o(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],a=!0,n=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(a=(o=r.next()).done);a=!0)if(i.push(o.value),e&&i.length===e)break}catch(c){n=!0,s=c}finally{try{a||null==r["return"]||r["return"]()}finally{if(n)throw s}}return i}}var r=i("06c5");function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){return s(t)||o(t,e)||Object(r["a"])(t,e)||c()}var u=i("5530"),d=(i("159b"),i("2f62")),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container border-bottom"},[i("ul",{staticClass:"icons-group"},t._l(t.homeIcons,(function(t,e){return i("icon",{key:e,tag:"li",staticClass:"icon",attrs:{icons:t,width:!0,bgcolor:!0}})})),1)])},m=[],f=i("1da1"),v=(i("96cf"),i("9521")),p=i("3e73"),g={name:"homeIcons",data:function(){return{homeIcons:v["c"]}},mounted:function(){this.iniData()},methods:{iniData:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.homeIcons=Object(v["c"])();case 1:case"end":return e.stop()}}),e)})))()}},components:{icon:p["a"]}},b=g,w=(i("89ca"),i("2877")),y=Object(w["a"])(b,h,m,!1,null,"0c00c5e0",null),C=y.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container pd13"},[i("ul",t._l(t.homeListContext,(function(e,a){return i("li",{key:a,ref:"waveItem",refInFor:!0,staticClass:"list-item"},[i("i",{staticClass:"home",class:e.icon}),i("div",{staticClass:"border-bottom wrapper",on:{click:function(i){return i.stopPropagation(),t.handleClick(e.text)}}},[i("span",{staticClass:"list-content"},[t._v(t._s(e.text))]),i("span",{ref:"homeNum",refInFor:!0,staticClass:"num"},[t._v("("+t._s(e.num)+")")])])])})),0)])},_=[],N={name:"homeList",data:function(){return{homeListContext:[]}},props:["num"],watch:{num:{immediate:!0,deep:!0,handler:function(t,e){this.recordNum=t.recordNum,this.djNum=t.djNum,this.collectNum=t.collectNum,this.setData()}}},methods:{setData:function(){var t=this,e=Object(v["d"])();this.$set(e[1],"num",this.recordNum),this.$set(e[3],"num",this.djNum),this.$set(e[4],"num",this.collectNum),this.homeListContext=e,setTimeout((function(){t.$wave.init({duration:1e3}),t.$wave.attach(t.$refs.waveItem)}),100)},handleClick:function(t){var e=this;console.log(t),setTimeout((function(){e.goPage(t)}),150)},goPage:function(t){switch(t){case"最近播放":this.$router.push("/recently");break;case"我的收藏":this.$router.push("/favorite");break;case"我的电台":this.$router.push("/dj_sublist");break;default:break}}}},L=N,k=(i("fe0e"),Object(w["a"])(L,x,_,!1,null,"6945fb58",null)),I=k.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container pd13",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"wrapper-title"},[i("div",{staticClass:"left-title"},[i("i",{staticClass:"home iconarrow"}),i("span",{staticClass:"title"},[t._v("创建的歌单")]),i("span",{staticClass:"num"},[t._v("("+t._s(t.index.createNum)+")")])]),i("div",{staticClass:"right-title"},[i("i",{staticClass:"home iconincrease",on:{click:t.showAddNewPlayList}}),i("i",{staticClass:"home icondiandiandian"})])]),i("ul",{staticClass:"song-group"},[t.myLoveList.length?t._e():i("li",{staticClass:"song-list"},[t._m(0),t._m(1),t._m(2)]),t._l(t.myLoveList,(function(e,a){return i("li",{key:a,staticClass:"song-list"},[i("a",{staticClass:"cover",staticStyle:{width:"70%"},on:{click:function(i){return t.goAlbumPage(e)}}}),i("div",{staticClass:"list-img"},[i("img",{attrs:{src:e.coverImgUrl+"?param=100y100"}})]),i("div",{staticClass:"list-info"},[i("p",{staticClass:"list-title"},[t._v(t._s(t._f("setName")(e.name)))]),i("p",{staticClass:"list-num"},[t._v(t._s(e.trackCount)+"首")])]),i("div",{staticClass:"heart-module"},[i("span",{staticClass:"heart-text",on:{click:function(i){return i.stopPropagation(),t.heartMode(e.id)}}},[i("i",{staticClass:"home iconxintiao"}),t._v("心动模式 ")])])])})),t._l(t.createList,(function(e,a){return i("li",{key:a+1,staticClass:"song-list"},[i("a",{staticClass:"cover",on:{click:function(i){return t.goAlbumPage(e)}}}),i("div",{staticClass:"list-img"},[i("img",{attrs:{src:e.coverImgUrl+"?param=100y100"}}),i("i",{directives:[{name:"show",rawName:"v-show",value:e.privacy,expression:"item.privacy"}],staticClass:"home iconsuo"})]),i("div",{staticClass:"list-info"},[i("p",{staticClass:"list-title"},[t._v(t._s(e.name))]),i("p",{staticClass:"list-num"},[t._v(t._s(e.trackCount)+"首")])]),i("div",{staticClass:"heart"},[i("i",{staticClass:"home icondiandiandian",on:{click:function(i){return i.stopPropagation(),t.showSlider(e.name,e.id,e.subscribed)}}})])])}))],2),t.index.favoritesNum?i("div",{staticClass:"wrapper-title"},[i("div",{staticClass:"left-title"},[i("i",{staticClass:"home iconarrow"}),i("span",{staticClass:"title"},[t._v("收藏的歌单")]),i("span",{staticClass:"num"},[t._v("("+t._s(t.index.favoritesNum)+")")])]),t._m(3)]):t._e(),i("ul",{staticClass:"song-group"},t._l(t.favoritesList,(function(e,a){return i("li",{key:a,staticClass:"song-list"},[i("a",{staticClass:"cover",on:{click:function(i){return t.goAlbumPage(e)}}}),i("div",{staticClass:"list-img"},[i("img",{attrs:{src:e.coverImgUrl+"?param=100y100"}})]),i("div",{staticClass:"list-info"},[i("p",{staticClass:"list-title ellipsis"},[t._v(t._s(e.name))]),i("p",{staticClass:"list-num"},[t._v(" "+t._s(e.trackCount)+"首 "),i("span",{staticClass:"nickname"},[t._v("by "+t._s(e.creator.nickname))])])]),i("div",{staticClass:"heart"},[i("i",{staticClass:"home icondiandiandian",on:{click:function(i){return i.stopPropagation(),t.showSlider(e.name,e.id,e.subscribed)}}})])])})),0),i("add-new-playlist",{ref:"addNewPlaylist",on:{succeesAdd:t.succeesAdd}})],1)},j=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-cover"},[i("i",{staticClass:"home iconxin"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-info"},[i("p",{staticClass:"list-title"},[t._v("我喜欢的音乐")]),i("p",{staticClass:"list-num"},[t._v("0首")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"heart-module"},[i("span",{staticClass:"heart-text"},[i("i",{staticClass:"home iconxintiao"}),t._v("心动模式 ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"right-title"},[i("i",{staticClass:"home iconincrease"}),i("i",{staticClass:"home icondiandiandian"})])}],$=(i("4d63"),i("ac1f"),i("25f0"),i("b0c0"),i("fb6a"),i("365c")),P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"middle"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"mask",on:{click:t.hide}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"addInfo pd23"},[i("h1",{staticClass:"title"},[t._v("新建歌单")]),i("div",{staticClass:"inp"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.playListName,expression:"playListName",modifiers:{trim:!0}}],ref:"inp",staticClass:"playlistName",attrs:{type:"text",placeholder:"请输入歌单标题",autofocus:"autofocus"},domProps:{value:t.playListName},on:{input:function(e){e.target.composing||(t.playListName=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.playListName,expression:"playListName"}],staticClass:"search search-guanbi",on:{click:t.clearInp}})]),i("div",{staticClass:"line"},[i("van-checkbox",{attrs:{shape:"square","checked-color":"#dd001b"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("设置为隐私歌单")]),i("span",{staticClass:"length"},[t._v(t._s(t.playListName.length)+"/40")])],1),i("div",{staticClass:"button"},[i("div",{staticClass:"btn",on:{click:t.hide}},[t._v("取消")]),i("div",{staticClass:"btn",class:{disable:!t.playListName},on:{click:t.pushNewPlaylist}},[t._v("提交")])])])])},F=[],O=(i("e17f"),i("2241")),S={data:function(){return{isShow:!1,playListName:"",checked:!1}},created:function(){this.changeFocus()},methods:{open:function(){this.isShow=!0},hide:function(){this.isShow=!1},open2:function(){Object(O["a"])({message:"添加成功"})},pushNewPlaylist:function(){var t,e=this;this.checked&&(t=10),$["a"].addPlaylistFn(this.playListName,t).then((function(t){var i=t.data;200===i.code&&(e.open2(),e.clearInp(),e.hide(),e.$emit("succeesAdd"))})).catch((function(t){console.log(t)}))},changeFocus:function(){var t=this;this.$nextTick((function(e){t.$refs.inp.focus()}))},clearInp:function(){this.playListName=""}}},E=S,V=(i("4a7c"),Object(w["a"])(E,P,F,!1,null,null,null)),U=V.exports,B={name:"songList",data:function(){return{favoritesList:[],createList:[],myLoveList:[],createIndex:0,favoritesIndex:0}},filters:{setName:function(t){var e=new RegExp(/喜欢的音乐$/);return e.test(t)&&(t="我喜欢的音乐"),t}},props:["index"],mounted:function(){this.favoritesIndex=this.index.favoritesNum,this.createIndex=this.index.createNum,this.getPlaylist(this.$store.state.accountUid)},watch:{index:{deep:!0,handler:function(t,e){this.createIndex=t.createNum,this.favoritesIndex=t.favoritesNum,this.getPlaylist(this.$store.state.accountUid)}}},methods:{succeesAdd:function(){this.createIndex++,this.getPlaylist(this.$store.state.accountUid)},showAddNewPlayList:function(){this.$refs.addNewPlaylist.open()},showSlider:function(t,e,i){this.$emit("showSlider",t,e,i)},goAlbumPage:function(t){var e=this;setTimeout((function(){e.$router.push({name:"albumPage",params:{albumId:t.id,imgUrl:t.coverImgUrl,name:t.name}})}),500)},randomNum:function(t,e){return parseInt(Math.random()*(e-t+1)+t,10)},heartMode:function(t){var e,i=this,a=t;$["a"].albumDetailFn(a).then((function(t){var n=t.data;if(200===n.code){var s=n.playlist.trackIds,o=i.randomNum(0,s.length),r=s[o];e=r.id,i.$emit("heartMode",e,a)}}))},getPlaylist:function(t){var e=this,i=+new Date;$["a"].playlistFn(t,i).then((function(t){var i=t.data;200===i.code&&(console.log(i),e.sliceInfo(i.playlist))}))},sliceInfo:function(t){var e=this.createIndex,i=this.createIndex+this.favoritesIndex;this.createList=t.slice(0,e),this.myLoveList=this.createList.slice(0,1),this.createList=this.createList.slice(1),this.favoritesList=t.slice(e,i)}},components:{addNewPlaylist:U}},A=B,M=(i("4255"),Object(w["a"])(A,T,j,!1,null,"38b35fd4",null)),R=M.exports,G=i("15ea"),D={name:"homeIndex",data:function(){return{homeListNum:{recordNum:0,djNum:0,collectNum:0},songListNum:{createNum:0,favoritesNum:0},heartModeList:[],title:"",id:0,homePlaylistSlider:!1,homeFavoritelistSlider:!1}},components:{homeIcons:C,homeList:I,songList:R,slider:G["a"]},methods:Object(u["a"])({_heartMode:function(t,e){var i=this;$["a"].heartModeFn(t,e).then((function(t){var e=t.data;if(200===e.code){var a=e.data;i.ruleModeList(a,"songInfo"),console.log(i.heartModeList),i.startPlayAll({list:i.heartModeList})}}))},ruleModeList:function(t,e){var i=this;t.forEach((function(t){i.heartModeList.push(t[e])}))},showSlider:function(t,e,i){this.title="歌单："+t,this.id=e,i?(this.homeFavoritelistSlider=!0,this.homePlaylistSlider=!1):(this.homeFavoritelistSlider=!1,this.homePlaylistSlider=!0),this.$refs.slider.showSlider()}},Object(d["b"])(["startPlayAll"])),computed:Object(u["a"])(Object(u["a"])({},Object(d["c"])({loginState:"LOGIN_STATE",audioList:"AUDIO_LIST"})),Object(d["c"])({accountUid:"ACCOUNT_UID"})),activated:function(){var t=this,e=+localStorage.getItem("loginState");(this.loginState||e)&&Promise.all([$["a"].albumCollec(),$["a"].userInfoFn(new Date),$["a"].userRecordFn(localStorage.getItem("accountUid"))]).then((function(e){var i=l(e,3),a=i[0],n=i[1],s=i[2];a=a.data.data,n=n.data,s=s.data,t.homeListNum.collectNum+=a.length+n.artistCount+n.mvCount,t.homeListNum.djNum=n.djRadioCount,t.songListNum.createNum=n.createdPlaylistCount,t.songListNum.favoritesNum=n.subPlaylistCount,t.homeListNum.recordNum=s.weekData.length}))}},z=D,W=(i("86d3"),Object(w["a"])(z,a,n,!1,null,"65b374d3",null));e["default"]=W.exports},"950a":function(t,e,i){},9521:function(t,e,i){"use strict";i.d(e,"c",(function(){return d})),i.d(e,"d",(function(){return h})),i.d(e,"b",(function(){return m})),i.d(e,"e",(function(){return f})),i.d(e,"g",(function(){return v})),i.d(e,"f",(function(){return p})),i.d(e,"a",(function(){return g}));var a=[{text:"私藏推荐",icon:"home iconxindian"},{text:"私人FM",icon:"home iconshouyinji"},{text:"Sati空间",icon:"home iconyueliang"},{text:"最新电音",icon:"home iconduodian"},{text:"因乐交友",icon:"home iconjiaoyou"},{text:"亲子频道",icon:"home iconertong"},{text:"古典专区",icon:"home icongangqin"},{text:"跑步FM",icon:"home iconorder-received"},{text:"小冰电台",icon:"home iconbingjiling"},{text:"爵士电台",icon:"home iconyandou"},{text:"驾驶模式",icon:"home iconqiche"},{text:"编辑",icon:"home icontoggle"}],n=[{text:"每日推荐",icon:"find rili",linkTo:"dateRecommend"},{text:"歌单",icon:"find gedan",linkTo:"recommend"},{text:"排行榜",icon:"find paixingbang",linkTo:"idx"},{text:"电台",icon:"find diantai",linkTo:"dj"},{text:"私人FM",icon:"find shouyin",linkTo:"personalFm"}],s=[{text:"电台分类",icon:"dj dj-caidan1",linkTo:"classification"},{text:"电台排行",icon:"dj dj-paixing",linkTo:"ranking"},{text:"付费精品",icon:"dj dj-gerenzhongxin_wodeguizu",linkTo:"pay_fine"},{text:"主播学院",icon:"dj dj-shucopy",linkTo:"anchor_college"}],o=[{icon:"iconyinyue",text:"本地音乐",num:0},{icon:"iconzuijinbofang",text:"最近播放",num:0},{icon:"iconxiazai",text:"下载管理",num:0},{icon:"icondiantai",text:"我的电台",num:0},{icon:"iconicon-31",text:"我的收藏",num:0}],r=[{icon:"login iconwodexiaoxi",text:"我的消息"},{icon:"login iconyonghu",text:"我的好友"},{icon:"login iconpifu",text:"个性皮肤"},{icon:"login icontinggeshiqu40x40",text:"听歌识曲"}],c=[{icon:"iconhuopiaotongxing",text:"演出"},{icon:"icongouwuche",text:"商城"},{icon:"icondibiao",text:"附近的人"},{icon:"iconicon--",text:"口袋铃声"},{icon:"icondingdan",text:"我的订单"}],l=[{icon:"iconicon--2",text:"定时停止播放"},{icon:"iconsaoyisao",text:"扫一扫"},{icon:"iconicon--1",text:"音乐闹钟"},{icon:"iconhezi501",text:"在线听歌免流量"},{icon:"iconyouxi",text:"游戏推荐"},{icon:"iconCoupon",text:"优惠券"},{icon:"iconmaikefeng",text:"我要直播"}],u={homeIcons:a,findIcons:n,homeList:o,loginIcons:r,loginIconsTop:c,loginIconsBottom:l,djIcons:s},d=function(){return u.homeIcons},h=function(){return u.homeList},m=function(){return u.findIcons},f=function(){return u.loginIcons},v=function(){return u.loginIconsTop},p=function(){return u.loginIconsBottom},g=function(){return u.djIcons}},"961f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("slider-nav",{attrs:{list:t.chooseListTag}}),i("keep-alive",[i("router-view",{staticClass:"router-view",staticStyle:{height:"87vh","overflow-y":"scroll"}})],1)],1)},n=[],s=(i("4de4"),i("159b"),i("b0c0"),i("365c")),o=i("d7be"),r={name:"",data:function(){return{chooseListTag:[{path:"/videoPage/musicFestival",text:"音乐节"},{path:"/videoPage/scene",text:"广告"},{path:"/videoPage/listenBGM",text:"听BGM"},{path:"/videoPage/singing",text:"娱乐"},{path:"/videoPage/dance",text:"流行"},{path:"/videoPage/ACG",text:"ACG"},{path:"/videoPage/rock",text:"摇滚"},{path:"/videoPage/game",text:"游戏"},{path:"/videoPage/animation",text:"动漫"}],list:[{id:0}]}},created:function(){this._getVideoTag()},methods:{_getVideoTag:function(){var t=this;s["a"].getVideoTagFn().then((function(e){var i=e.data;if(200===i.code){var a=i.data;a.filter((function(e){t.chooseListTag.forEach((function(t){e.name===t.text&&"音乐节"!==t.text&&(t.path=t.path+"/"+e.id,t.text=e.name)}))}))}console.log(t.list)}))}},components:{sliderNav:o["a"]}},c=r,l=i("2877"),u=Object(l["a"])(c,a,n,!1,null,"65d916dc",null);e["default"]=u.exports},"96cf":function(t,e,i){var a=function(t){"use strict";var e,i=Object.prototype,a=i.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},s=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",r=n.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(F){c=function(t,e,i){return t[e]=i}}function l(t,e,i,a){var n=e&&e.prototype instanceof p?e:p,s=Object.create(n.prototype),o=new j(a||[]);return s._invoke=L(t,i,o),s}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(F){return{type:"throw",arg:F}}}t.wrap=l;var d="suspendedStart",h="suspendedYield",m="executing",f="completed",v={};function p(){}function g(){}function b(){}var w={};w[s]=function(){return this};var y=Object.getPrototypeOf,C=y&&y(y($([])));C&&C!==i&&a.call(C,s)&&(w=C);var x=b.prototype=p.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function N(t,e){function i(n,s,o,r){var c=u(t[n],t,s);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"===typeof d&&a.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,o,r)}),(function(t){i("throw",t,o,r)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return i("throw",t,o,r)}))}r(c.arg)}var n;function s(t,a){function s(){return new e((function(e,n){i(t,a,e,n)}))}return n=n?n.then(s,s):s()}this._invoke=s}function L(t,e,i){var a=d;return function(n,s){if(a===m)throw new Error("Generator is already running");if(a===f){if("throw"===n)throw s;return P()}i.method=n,i.arg=s;while(1){var o=i.delegate;if(o){var r=k(o,i);if(r){if(r===v)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===d)throw a=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=m;var c=u(t,e,i);if("normal"===c.type){if(a=i.done?f:h,c.arg===v)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(a=f,i.method="throw",i.arg=c.arg)}}}function k(t,i){var a=t.iterator[i.method];if(a===e){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=e,k(t,i),"throw"===i.method))return v;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var n=u(a,t.iterator,i.arg);if("throw"===n.type)return i.method="throw",i.arg=n.arg,i.delegate=null,v;var s=n.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,v):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,v)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function $(t){if(t){var i=t[s];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function i(){while(++n<t.length)if(a.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}return{next:P}}function P(){return{value:e,done:!0}}return g.prototype=x.constructor=b,b.constructor=g,g.displayName=c(b,r,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,r,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},_(N.prototype),N.prototype[o]=function(){return this},t.AsyncIterator=N,t.async=function(e,i,a,n,s){void 0===s&&(s=Promise);var o=new N(l(e,i,a,n),s);return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(x),c(x,r,"Generator"),x[s]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var a=e.pop();if(a in t)return i.value=a,i.done=!1,i}return i.done=!0,i}},t.values=$,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(a,n){return r.type="throw",r.arg=t,i.next=a,n&&(i.method="next",i.arg=e),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],r=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),T(i),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var n=a.arg;T(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,a){return this.delegate={iterator:$(t),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=a}catch(n){Function("r","regeneratorRuntime = r")(a)}},"994e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-com"},[i("div",{staticClass:"titleFixed"},[i("general-nav",{ref:"nav",staticClass:"fixed nav-color",on:{returnPage:t.returnPage}},[i("span",{staticClass:"text"},[t._v(t._s(t.title))])]),i("video-card",{attrs:{videoId:t.videoId,allTime:t.allTime},on:{blockNav:t.blockNav,hideNav:t.hideNav}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],ref:"wra",staticClass:"bottom-wra",on:{scroll:t.scroll}},[i("video-info",{staticClass:"pd23",attrs:{title:t.title,playTime:t.playTime,praisedCount:t.praisedCount,commentCount:t.commentCount,shareCount:t.shareCount,subscribeCount:t.subscribeCount,videoGroup:t.videoGroup.slice(0,3)}}),i("video-creator",{class:{creatorFixed:t.creatorFixed},attrs:{avatarUrl:t.avatarUrl,nickname:t.nickname}}),i("div",{staticClass:"split",style:{marginTop:t.top}}),i("h1",{staticClass:"pd23 title"},[t._v("相关视频")]),t._l(t.allVideoList,(function(t,e){return i("video-list",{key:e,staticClass:"pd23",attrs:{videoList:!0,line:"two",ImgUrl:t.coverUrl,name:t.title,durationms:t.durationms,nicknames:t.creator,playTime:t.playTime}})})),i("div",{staticClass:"split"}),i("comments",{directives:[{name:"show",rawName:"v-show",value:t.hotComments.length,expression:"hotComments.length"}],staticClass:"pd23",attrs:{title:"精彩评论",comments:t.hotComments},on:{showMenu:t.showMenu,likeComment:t.likeComment}}),i("comments",{directives:[{name:"show",rawName:"v-show",value:t.comments.length,expression:"comments.length"}],staticClass:"pd23",attrs:{title:"最新评论",total:t.total,comments:t.comments},on:{showMenu:t.showMenu,likeComment:t.likeComment}}),i("van-search",{staticClass:"border-top commentInp",attrs:{placeholder:t.placeholder,"show-action":"",clearable:!1,background:"#fff","left-icon":""},on:{search:function(e){return t.pushCom(t.input)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[i("div",{class:{disable:!t.input},attrs:{slot:"action"},on:{click:function(e){return t.pushCom(t.input)}},slot:"action"},[t._v("发送")])]),i("center-menu",{attrs:{isShow:t.isShow},on:{"update:show":t.updateShow,delCom:t.delCom}})],2),i("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}]})],1)},n=[],s=(i("e7e5"),i("d399")),o=i("1da1"),r=(i("96cf"),i("b64b"),i("9a9b")),c=i("91b9"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"playVideo",staticClass:"play-video",on:{touchstart:t.hideFnBtn}},[i("circle-loading",{ref:"load",staticClass:"none",attrs:{type:"absolute",width:"6.7rem",height:"3.8rem"}}),i("video",{ref:"video",staticClass:"video_tag",attrs:{src:"localhost"},on:{canplay:t.startPlay,timeupdate:t.setBarTime}}),i("div",{ref:"fnBtn",staticClass:"fn-btn",on:{click:function(t){t.stopPropagation()}}},[i("span",{ref:"button",staticClass:"center-bofang"},[i("i",{staticClass:"video",class:{videobofang1:"pause"===t.pause,videozantingtingzhi:"play"===t.play},on:{click:function(e){return t.playVideo(t.videoId)}}})]),t.showProgressBar?i("bar",{staticClass:"bar",attrs:{time:t.playTime,width:t.progressWidth,allTime:t.allTime},on:{time:t.changeTime}}):t._e()],1)],1)},u=[],d=(i("a9e3"),i("caad"),i("2532"),i("a082")),h=i("222d"),m=i("ba2d"),f=i("365c"),v={name:"",data:function(){return{pause:"pause",play:"",timer:null,playTime:"00:00",progressWidth:0,showProgressBar:!1}},props:{videoId:{type:String},allTime:{type:Number}},filters:{setCount:function(t){return Object(m["c"])(t)},setTime:function(t){return Object(m["d"])(t)}},methods:{playVideo:function(t){var e=this;this.$nextTick(Object(o["a"])(regeneratorRuntime.mark((function i(){var a,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e.$refs.video,!a.src.includes("localhost")){i.next=8;break}return e.$refs.load.block(),i.next=5,f["a"].getVideoUrlFn(t);case 5:n=i.sent,a.src=n.data.urls[0].url,e.showProgressBar=!0;case 8:a.paused?e.videoPlay(a):e.videoPause(a);case 9:case"end":return i.stop()}}),i)}))))},setBarTime:function(){var t,e,i=this.$refs.video,a=Math.floor(i.currentTime/60),n=Math.floor(i.currentTime-60*a);t=a<10?"0"+a:a,e=n<10?"0"+n:n;var s=t+":"+e;this.playTime=s;var o=i.currentTime/i.duration*100;this.setProgress(o)},setProgress:function(t){t<0||t>100||(this.progressWidth=t)},startPlay:function(){this.$refs.load.none()},videoPlay:function(t){t.play(),this.play="play",this.pause="",this.hideFnBtn()},changeTime:function(t){var e=this.$refs.video,i=t*e.duration/100;e.currentTime=i,this.videoPlay(e)},videoPause:function(t){t.pause(),this.hideFnBtn(),this.pause="pause",this.play=""},hideFnBtn:function(){var t=this;t.$refs.fnBtn.style.display="block",t.$emit("blockNav"),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.$refs.fnBtn.style.display="none",t.$emit("hideNav")}),2e3)}},components:{circleLoading:d["a"],bar:h["a"]}},p=v,g=(i("aa69"),i("2877")),b=Object(g["a"])(p,l,u,!1,null,"1e1dc08f",null),w=b.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-creator border-top"},[i("div",{staticClass:"left"},[i("div",{staticClass:"img-info"},[i("img",{attrs:{src:t.avatarUrl+"?param=50y50",alt:""}})]),i("span",{staticClass:"author"},[t._v(t._s(t.nickname))])]),i("div",{staticClass:"concern tag-group"},[t._v("+ 关注")])])},C=[],x={name:"",props:{avatarUrl:{type:String},nickname:{type:String}}},_=x,N=(i("bf23"),Object(g["a"])(_,y,C,!1,null,"6f400186",null)),L=N.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-info-wra"},[i("h1",{staticClass:"video-title twoLinesEllipsis"},[t._v(t._s(t.title))]),i("div",{staticClass:"video-info-top"},[i("span",{staticClass:"num"},[t._v(t._s(t._f("setNum")(t.playTime))+"次观看")]),t._l(t.videoGroup,(function(e,a){return i("span",{key:a,staticClass:"tag-group"},[t._v("#"+t._s(t._f("setName")(e.name))+"#")])}))],2),i("div",{staticClass:"video-btn"},[i("span",{staticClass:"icon-btn"},[i("i",{staticClass:"video-info zan"}),i("i",{staticClass:"num"},[t._v(t._s(t._f("setNum")(t.praisedCount)))])]),i("span",{staticClass:"icon-btn"},[i("i",{staticClass:"video-info tianjiawenjian"}),i("i",{staticClass:"num"},[t._v(t._s(t._f("setNum")(t.subscribeCount)))])]),i("span",{staticClass:"icon-btn"},[i("i",{staticClass:"video-info videopinglun"}),i("i",{staticClass:"num"},[t._v(t._s(t._f("setNum")(t.commentCount)))])]),i("span",{staticClass:"icon-btn"},[i("i",{staticClass:"video-info videofenxiang"}),i("i",{staticClass:"num"},[t._v(t._s(t._f("setNum")(t.shareCount)))])])])])},I=[],T=(i("5319"),i("ac1f"),{name:"",props:{title:{type:String},playTime:{type:Number},praisedCount:{type:Number},commentCount:{type:Number},shareCount:{type:Number},subscribeCount:{type:Number},videoGroup:{type:Array}},filters:{setNum:function(t){return Object(m["c"])(t)},setName:function(t){return t=t.replace(/#/g,""),t}}}),j=T,$=(i("e331"),Object(g["a"])(j,k,I,!1,null,"12219ceb",null)),P=$.exports,F=i("298d"),O=i("c0d2"),S=i("a8a3"),E={name:"",data:function(){return{load:!0,allLoad:{detail:!1,comments:!1,videoRelated:!1},videoId:"",allTime:0,title:"",total:0,playTime:0,praisedCount:0,commentCount:0,shareCount:0,subscribeCount:0,avatarUrl:"",nickname:"",videoComments:[],hotComments:[],comments:[],isShow:!1,input:"",top:"",placeholder:"",creatorFixed:!1,allVideoList:[],videoGroup:[]}},activated:function(){this.load=!0,this.title="",this.videoId="",this.params=this.$route.params;var t=this.params;0===Object.keys(t).length&&this.$router.back(),this.videoId=t.id,this.getAllInfo(t.id)},methods:{getAllInfo:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var a,n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e._getVideoDetail(t);case 2:return a=i.sent,i.next=5,e._getVideoRelated(t);case 5:return n=i.sent,i.next=8,e._getVideoComments(t);case 8:s=i.sent,a&&n&&s&&(e.load=!1);case 10:case"end":return i.stop()}}),i)})))()},_getVideoDetail:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var a,n,s,o,r,c,l,u,d,h,m,v,p,g;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,f["a"].getVideoDetailFn(t);case 2:if(a=i.sent,n=a.data,200!==n.code){i.next=18;break}return s=n.data,o=s.durationms,r=s.title,c=s.videoGroup,l=s.playTime,u=s.praisedCount,d=s.commentCount,h=s.shareCount,m=s.subscribeCount,v=n.data.creator,p=v.avatarUrl,g=v.nickname,e.allTime=o,e.title=r,e.playTime=l,e.praisedCount=u,e.commentCount=d,e.shareCount=h,e.subscribeCount=m,e.avatarUrl=p,e.nickname=g,e.videoGroup=c,i.abrupt("return",!0);case 18:return i.abrupt("return",!1);case 19:case"end":return i.stop()}}),i)})))()},_getVideoRelated:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var a,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,f["a"].getVideoRelatedFn(t);case 2:if(a=i.sent,n=a.data,200!==n.code){i.next=7;break}return e.allVideoList=n.data,i.abrupt("return",!0);case 7:return i.abrupt("return",!1);case 8:case"end":return i.stop()}}),i)})))()},_getVideoComments:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var a,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,f["a"].getVideoCommentsFn(t);case 2:if(a=i.sent,n=a.data,200!==n.code){i.next=9;break}return e.total=n.total,e.hotComments=n.hotComments,e.comments=n.comments,i.abrupt("return",!0);case 9:return i.abrupt("return",!1);case 10:case"end":return i.stop()}}),i)})))()},showMenu:function(){this.isShow=!0},scroll:function(t){var e=this.$refs.wra.scrollTop;e>=148?(this.creatorFixed=!0,this.top="1.2rem"):(this.creatorFixed=!1,this.top="0")},pushCom:function(t){var e=this;if(t){s["a"].allowMultiple();var i=s["a"].loading({forbidClick:!0,duration:1e3}),a=this.params,n=a.id,o=5;f["a"].pushComFn(o,n,t).then((function(t){var a=t.data;200===a.code&&(e.input="",i.clear(),Object(s["a"])({position:"bottom",message:"发表成功"}),e._getVideoComments(n))})).catch((function(t){t&&(i.clear(),Object(s["a"])("当前未登录"))}))}else Object(s["a"])({position:"bottom",message:"评论为空"})},delCom:function(t){var e=this,i=this.params,a=i.id,n=5;f["a"].delComFn(n,a,t).then((function(t){var i=t.data;200===i.code&&(e.hideMenu(),e._getVideoComments(a))}))},updateShow:function(t){this.isShow=t},hideNav:function(){this.$refs.nav.hidden()},likeComment:function(t,e){var i=this.params.id,a=5;f["a"].commentLikeFn(i,t,e,a)},blockNav:function(){this.$refs.nav.visible()},returnPage:function(){this.$router.go(-1)}},components:{pageLoading:r["a"],videoCard:w,videoInfo:P,videoCreator:L,generalNav:O["a"],comments:c["a"],videoList:F["a"],centerMenu:S["a"]}},V=E,U=(i("704a"),Object(g["a"])(V,a,n,!1,null,"336f714a",null));e["default"]=U.exports},a082:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}],staticClass:"circle-load",class:{absolute:"absolute"===t.type},style:{width:t.width,height:t.height}},[i("svg",{attrs:{viewBox:"25 25 50 50"}},[i("circle",{attrs:{cx:"50",cy:"50",r:"20"}})])])},n=[],s={name:"",data:function(){return{load:!1}},props:{type:{type:String},width:{type:String},height:{type:String}},methods:{block:function(){this.load=!0},none:function(){this.load=!1}}},o=s,r=(i("c808"),i("2877")),c=Object(r["a"])(o,a,n,!1,null,"f4194fe0",null);e["a"]=c.exports},a29d:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper",on:{scroll:t.scrollList}},[i("general-nav",{staticClass:"fixed nav-color",on:{returnPage:t.returnPage}},[i("span",{staticClass:"text"},[t._v(t._s(t.iTitle))])]),i("div",{staticClass:"container-top",class:{coverFixed:t.coverFixed,position:t.position},style:{backgroundImage:"url("+t.coverImgUrl+")"}},[i("div",{staticClass:"cover",style:{backgroundColor:"rgba(0, 0, 0, "+t.cover+")"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.listFixed,expression:"!listFixed"}],staticClass:"data",style:{opacity:t.opacity}},[t._m(0),i("div",{staticClass:"user-info-content"},[i("div",{staticClass:"user-info-left"},[i("div",{staticClass:"user-nickname"},[t._v(t._s(t.nickname))]),i("div",{staticClass:"follow-wrapper"},[i("span",{staticClass:"follows"},[t._v("关注 "+t._s(t.newFollows))]),i("span",{staticClass:"item"},[t._v("|")]),i("span",{staticClass:"followed"},[t._v("粉丝 "+t._s(t.followeds))])]),i("div",{staticClass:"age-level"},[i("span",{staticClass:"age"},[i("i",{staticClass:"userInfo",class:{userInfonv:2===t.gender,userInfonan:1===t.gender}}),t._v(" "+t._s(t._f("setAge")(t.birthday))+"后 ")]),i("span",{staticClass:"level"},[t._v("Lv."+t._s(t.level))])])]),t._m(1)])])]),i("change-nav",{class:{listFixed:t.listFixed},attrs:{active:t.active,firstNav:"主页",secondNav:"动态"},on:{changeToSecond:t.changeToSecond,changeToFirst:t.changeToFirst}}),i("div",{staticClass:"container-bottom pd23",style:{marginTop:t.top}},[i("div",{directives:[{name:"show",rawName:"v-show",value:"first"===t.active,expression:"active==='first'"}],staticClass:"home"},[i("h1",{staticClass:"title"},[t._v("基本信息")]),i("p",{staticClass:"list-info"},[i("span",{staticClass:"list-name"},[t._v("个人介绍：")]),i("span",{staticClass:"list-con"},[t._v(t._s(t.signature))])]),i("p",{staticClass:"list-info"},[i("span",{staticClass:"list-name"},[t._v("村龄：")]),i("span",{staticClass:"list-con"},[t._v(t._s(t.age)+"年（"+t._s(t.year)+"年"+t._s(t.month)+"月注册）")])]),i("p",{staticClass:"list-info"},[i("span",{staticClass:"list-name"},[t._v("年龄：")]),i("span",{staticClass:"list-con-age"},[t._v(t._s(t._f("setAge")(t.birthday))+"后")]),i("span",{staticClass:"list-con-astro"},[t._v(t._s(t.astro)+"座")])]),i("p",{staticClass:"list-info"},[i("span",{staticClass:"list-name"},[t._v("累计听歌：")]),i("span",{staticClass:"list-con-con"},[t._v(t._s(t.listenSongs)+"首")])])]),i("user-dynamic",{directives:[{name:"show",rawName:"v-show",value:"second"===t.active,expression:"active==='second'"}],attrs:{dataInfo:t.dataInfo}})],1)],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-img"},[i("img",{attrs:{src:"http://p1.music.126.net/86ildkNdYbtpJZLyGGsOSg==/109951163982316131.jpg",alt:""}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-info-right"},[i("div",{staticClass:"edit"},[t._v("编辑")]),i("div",{staticClass:"change-bg"},[t._v("更换背景")])])}],s=i("c0d2"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dynamic"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.dataInfo,expression:"!dataInfo"}],staticClass:"data-info"},[t._v("暂时还没有动态哦")])])},r=[],c={name:"",props:{dataInfo:{type:Boolean}}},l=c,u=(i("0d92"),i("2877")),d=Object(u["a"])(l,o,r,!1,null,"e1425bfe",null),h=d.exports,m=i("ba2d"),f=function(t,e){return"魔羯水瓶双鱼牡羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯".substr(2*t-2*(e<"102223444433".charAt(t-1)- -19),2)},v=i("365c"),p=i("ca62"),g={name:"",data:function(){return{active:"first",iTitle:"",cover:"0.2",opacity:1,listFixed:!1,position:!0,coverFixed:!1,top:"0rem",level:0,dataInfo:!0,gender:0,signature:"",age:0,listenSongs:0,year:0,astro:"",month:0,newFollows:0,followeds:0,birthday:0,nickname:"",coverImgUrl:"http://p1.music.126.net/2zSNIqTcpHL2jIvU6hG0EA==/109951162868128395.jpg"}},filters:{setAge:function(t){return Object(m["a"])(t)}},activated:function(){this.active="first";var t=localStorage.getItem("accountUid");this._getUserInfo(t),this._getUserEvent(t)},methods:{_getUserInfo:function(t){var e=this;t&&v["a"].userDetailFn(t).then((function(t){var i=t.data;if(200===i.code){var a=i.profile,n=a.nickname,s=a.newFollows,o=a.followeds,r=a.birthday,c=a.signature,l=a.gender;e.nickname=n,e.newFollows=s,e.followeds=o,e.birthday=r,e.gender=l,e.signature=c,e.level=i.level;var u=i.createTime,d=new Date(u);e.listenSongs=i.listenSongs,e.year=d.getFullYear(),e.month=d.getMonth()+1,e.age=parseInt(i.createDays/365),e.astro=f(d.getMonth()+1,d.getDate()),console.log(i)}}))},_getUserEvent:function(t){var e=this;v["a"].userEventFn(t).then((function(t){var i=t.data;200===i.code&&(console.log(i),0===i.events.length&&(e.dataInfo=!1))}))},scrollList:function(t){var e=this.$el.scrollTop;console.log(e),this.cover=e/1e3+.3,this.opacity=1-e/500,this.cover>.6?(this.cover=.6,this.opacity=.4):(this.cover=e/1e3+.3,this.opacity=1-e/500),e>=220?(this.iTitle=this.nickname,this.listFixed=!0,this.coverFixed=!0,this.position=!1,this.top="6.6rem"):(this.iTitle="",this.listFixed=!1,this.coverFixed=!1,this.position=!0,this.top="0")},returnPage:function(){this.$router.go(-1)},changeToFirst:function(){this.active="first"},changeToSecond:function(){this.active="second"}},components:{generalNav:s["a"],changeNav:p["a"],userDynamic:h}},b=g,w=(i("6a29"),Object(u["a"])(b,a,n,!1,null,"3efc7f75",null));e["default"]=w.exports},a7ec:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"center"},[i("p",{staticClass:"m3"},[t._v("当前未登录，请您跳转登陆页面进行登陆")]),i("router-link",{attrs:{to:"/login"}},[t._v("点我去登陆")])],1)},n=[],s=i("5530"),o=i("2f62"),r={name:"",methods:Object(s["a"])({},Object(o["d"])(["SHOW_LOGIN"]))},c=r,l=(i("b887"),i("2877")),u=Object(l["a"])(c,a,n,!1,null,"2a1810fb",null);e["a"]=u.exports},aa69:function(t,e,i){"use strict";i("cf47")},ab13:function(t,e,i){var a=i("b622"),n=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,"/./"[t](e)}catch(a){}}return!1}},b887:function(t,e,i){"use strict";i("0fc5")},ba0a:function(t,e,i){"use strict";i("1971")},bbd2:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{scroll:t.hideVideo}},[i("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}]}),i("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],ref:"public",attrs:{data:t.data},on:{index:t.getIndex}}),i("should-login",{directives:[{name:"show",rawName:"v-show",value:0===t.isLogin,expression:"isLogin === 0"}]})],1)},n=[],s=i("1931"),o=i("193d"),r=i("9a9b"),c=i("a7ec"),l={mixins:[s["b"]],name:"",components:{publicImgCard:o["a"],pageLoading:r["a"],shouldLogin:c["a"]}},u=l,d=i("2877"),h=Object(d["a"])(u,a,n,!1,null,"791261d6",null);e["default"]=h.exports},bd17:function(t,e,i){},bf23:function(t,e,i){"use strict";i("f724")},c15a:function(t,e,i){},c808:function(t,e,i){"use strict";i("1091")},caad:function(t,e,i){"use strict";var a=i("23e7"),n=i("4d64").includes,s=i("44d2");a({target:"Array",proto:!0},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},ce01:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{scroll:t.hideVideo}},[i("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}]}),i("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],ref:"public",attrs:{data:t.data},on:{index:t.getIndex}}),i("should-login",{directives:[{name:"show",rawName:"v-show",value:0===t.isLogin,expression:"isLogin === 0"}]})],1)},n=[],s=i("1931"),o=i("193d"),r=i("9a9b"),c=i("a7ec"),l={mixins:[s["b"]],name:"",components:{publicImgCard:o["a"],pageLoading:r["a"],shouldLogin:c["a"]}},u=l,d=i("2877"),h=Object(d["a"])(u,a,n,!1,null,"88ec3388",null);e["default"]=h.exports},cf47:function(t,e,i){},e331:function(t,e,i){"use strict";i("bd17")},e3a2:function(t,e,i){},f08e:function(t,e,i){"use strict";i("3e6c")},f724:function(t,e,i){},f8f8:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-wra",on:{scroll:t.hideVideo}},[i("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}]}),i("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],ref:"public",attrs:{data:t.data},on:{index:t.getIndex}}),i("should-login",{directives:[{name:"show",rawName:"v-show",value:0===t.isLogin,expression:"isLogin === 0"}]})],1)},n=[],s=i("2909"),o=i("365c"),r=i("193d"),c=i("9a9b"),l=i("0338"),u=i("a7ec"),d=null,h={name:"",data:function(){return{data:[],load:!0,index:0,isLogin:+localStorage.getItem("loginState")||0}},created:function(){this._getVideoDetail(58104)},methods:{_getVideoDetail:function(t){var e=this;o["a"].getVideoGroupFn(t).then((function(t){var i=t.data;200===i.code&&(e.data=i.datas,e.load=!1)})).catch((function(t){t&&(e.load=!1)}))},hideVideo:function(){var t=this,e=this;d&&(clearTimeout(d),d=null),d=setTimeout((function(){t.stopVideo(e)}),300)},getIndex:function(t){this.index=t},stopVideo:function(t){var e=t.$el,i=Object(s["a"])(e.querySelectorAll(".video-item")),a=i[this.index];Object(l["a"])(a,e)||t.$refs.public.stopVideoTag()}},components:{publicImgCard:r["a"],pageLoading:c["a"],shouldLogin:u["a"]}},m=h,f=i("2877"),v=Object(f["a"])(m,a,n,!1,null,"9b33ca58",null);e["default"]=v.exports},fe0e:function(t,e,i){"use strict";i("c15a")},ff83:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{scroll:t.hideVideo}},[i("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}]}),i("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],ref:"public",attrs:{data:t.data},on:{index:t.getIndex}}),i("should-login",{directives:[{name:"show",rawName:"v-show",value:0===t.isLogin,expression:"isLogin === 0"}]})],1)},n=[],s=i("1931"),o=i("193d"),r=i("9a9b"),c=i("a7ec"),l={mixins:[s["b"]],name:"",components:{publicImgCard:o["a"],pageLoading:r["a"],shouldLogin:c["a"]}},u=l,d=i("2877"),h=Object(d["a"])(u,a,n,!1,null,"45159ff0",null);e["default"]=h.exports}}]);
//# sourceMappingURL=group-homePage.e39b901a.js.map