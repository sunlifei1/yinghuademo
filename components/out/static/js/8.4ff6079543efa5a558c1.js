webpackJsonp([8],{"2cGm":function(t,n){},"7lBL":function(t,n){},Ay6i:function(t,n,e){"use strict";function i(t){e("kQek")}function a(t){e("NjLb")}function o(t){e("wCpT")}function s(t){e("isCx")}function c(t){e("aBQi")}function r(t){e("2cGm")}function l(t){e("7lBL")}function u(t){e("bCe2")}Object.defineProperty(n,"__esModule",{value:!0});var g=e("Dd8w"),v=e.n(g),d=e("NYxO"),f=function(t){for(var n=t+"=",e=document.cookie.split(";"),i=0;i<e.length;i++){for(var a=e[i];""===a.charAt(0);)a=a.substring(1);if(-1!==a.indexOf(n))return a.substring(n.length,a.length)}return""},p=function(t,n,e,i,a,o){var s=encodeURIComponent(t)+"="+encodeURIComponent(n);e instanceof Date&&(s+="; expires="+e.toGMTString()),i&&(s+="; path="+i),a&&(s+="; domain="+a),o&&(s+="; secure"),document.cookie=s},m=e("gyMJ"),_={name:"loginTop",data:function(){return{avatarUrl:"",nickname:"",level:0,is_Sign:!1}},props:{loginState:{type:Number,default:0}},created:function(){var t=this;this.$nextTick(function(){t.getUserInfo(t.loginState)})},computed:{_loginState:{get:function(){return this.loginState},set:function(t){this.$emit("update_state",t)}},isSign:{get:function(){return this.is_Sign?this.is_Sign:f("sign").slice(1)},set:function(t){this.is_Sign=t}}},methods:v()({getUserInfo:function(t){t&&(this.level=localStorage.getItem("level"),this.avatarUrl=localStorage.getItem("avatarUrl"),this.nickname=localStorage.getItem("nickname"))},goUserInfo:function(){var t=this;this.HIDE_LOGIN(),setTimeout(function(){t.$router.push("/user_info")},500)},setSignCookie:function(){var t=new Date,n=t.getTime(),e=new Date(t.toLocaleDateString()).getTime()-1,i=n-e,a=864e5-i,o=new Date;o.setTime(a+n),p("sign",!0,o)},sign:function(){var t=this;m.a.signInFn().then(function(n){200===n.data.code&&(console.log("签到成功"),t.isSign=!0,t.setSignCookie())}).catch(function(n){n&&(console.log("用户已经签到"),t.is_Sign=!0,t.setSignCookie())})}},Object(d.d)(["HIDE_LOGIN"]))},h=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"wrapper",class:{loginBg:!t.loginState}},[t.loginState?t._e():e("div",{staticClass:"no-login"},[t._m(0),t._v(" "),e("router-link",{staticClass:"to-login",attrs:{to:"/login",tag:"button"},nativeOn:{click:function(n){return t.HIDE_LOGIN(n)}}},[t._v("立即登录")])],1),t._v(" "),t.loginState?e("div",{staticClass:"login-ed",on:{click:t.goUserInfo}},[e("div",{staticClass:"img-info"},[e("img",{staticClass:"account-bg",attrs:{src:t.avatarUrl+"?param=200y200",alt:""}})]),t._v(" "),e("div",{staticClass:"nickname"},[e("span",{staticClass:"account-nickname"},[t._v(t._s(t.nickname))]),t._v(" "),e("span",{staticClass:"level"},[t._v("Lv."+t._s(t.level))])]),t._v(" "),e("div",{staticClass:"daily_sign-in"},[e("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.isSign,expression:"!isSign"}],attrs:{type:"primary",size:"small",color:"#dd001b",round:""},on:{click:function(n){return n.stopPropagation(),t.sign(n)}}},[e("i",{staticClass:"login icontubiaozhizuo-"}),t._v("签到\n      ")]),t._v(" "),e("van-button",{directives:[{name:"show",rawName:"v-show",value:t.isSign,expression:"isSign"}],staticClass:"sign",attrs:{size:"small",round:""}},[t._v("\n        已签到\n        "),e("i",{staticClass:"login iconyoujiantou"})])],1)]):t._e()])},C=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"content"},[e("p",[t._v("登陆网易云音乐")]),t._v(" "),e("p",[t._v("手机电脑多端同步，尽享海量高品质音乐")])])}],I={render:h,staticRenderFns:C},k=I,b=e("VU/8"),S=i,w=b(_,k,!1,S,"data-v-af625bb2",null),O=w.exports,x=e("Xxa5"),E=e.n(x),T=e("exGp"),N=e.n(T),D=e("Ppka"),G=e("j0X3"),L={name:"loginIcons",components:{icon:G.a},data:function(){return{loginIcons:D.e}},mounted:function(){this.iniData()},methods:{iniData:function(){var t=this;return N()(E.a.mark(function n(){return E.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.loginIcons=Object(D.e)();case 1:case"end":return n.stop()}},n,t)}))()}}},y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container border-bottom"},[e("ul",{staticClass:"icons-wrapper"},t._l(t.loginIcons,function(n,i){return e("li",{key:i,staticClass:"icon-list"},[e("div",{staticClass:"icon"},[e("i",{staticClass:"login",class:n.icon})]),t._v(" "),e("span",{staticClass:"icon-text"},[t._v(t._s(n.text))])])}),0)])},U=[],j={render:y,staticRenderFns:U},$=j,B=e("VU/8"),P=a,F=B(L,$,!1,P,"data-v-1395ee17",null),R=F.exports,V={name:"loginIconsTop",data:function(){return{loginIconsTop:D.g}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;return N()(E.a.mark(function n(){return E.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.loginIconsTop=Object(D.g)();case 1:case"end":return n.stop()}},n,t)}))()}}},H=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"wrapper pd23 border-bottom"},[e("ul",t._l(t.loginIconsTop,function(n,i){return e("li",{key:i,staticClass:"list"},[e("i",{staticClass:"login",class:n.icon}),t._v(" "),e("span",{staticClass:"list-text"},[t._v(t._s(n.text))])])}),0)])},M=[],z={render:H,staticRenderFns:M},A=z,Q=e("VU/8"),X=o,J=Q(V,A,!1,X,"data-v-dadc7410",null),W=J.exports,Y={name:"loginIconsBottom",data:function(){return{loginIconsBottom:D.f}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;return N()(E.a.mark(function n(){return E.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.loginIconsBottom=Object(D.f)();case 1:case"end":return n.stop()}},n,t)}))()}}},q=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"wrapper pd23 border-bottom"},[e("ul",t._l(t.loginIconsBottom,function(n,i){return e("li",{key:i,staticClass:"list"},[e("i",{staticClass:"login",class:n.icon}),t._v(" "),e("span",{staticClass:"list-text"},[t._v(t._s(n.text))])])}),0)])},K=[],Z={render:q,staticRenderFns:K},tt=Z,nt=e("VU/8"),et=s,it=nt(Y,tt,!1,et,"data-v-a1807ed2",null),at=it.exports,ot={name:"loginBottom",computed:v()({},Object(d.c)({iconyueliang1:"ICON_NIGHT",icontaiyang:"ICON_SUN",modeText:"MODE_TEXT"})),methods:v()({logout:function(){this.$emit("logout")}},Object(d.d)(["TOGGLE_MODE"]))},st=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"wrapper border-top"},[e("span",{on:{click:t.TOGGLE_MODE}},[e("i",{staticClass:"login",class:{iconyueliang1:t.iconyueliang1,icontaiyang:t.icontaiyang}}),t._v(" "),e("span",[t._v(t._s(t.modeText)+"间模式")])]),t._v(" "),t._m(0),t._v(" "),e("span",{on:{click:t.logout}},[e("i",{staticClass:"login icondianyuan"}),t._v(" "),e("span",[t._v("退出")])])])},ct=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",[e("i",{staticClass:"login iconshezhi"}),t._v(" "),e("span",[t._v("设置")])])}],rt={render:st,staticRenderFns:ct},lt=rt,ut=e("VU/8"),gt=c,vt=ut(ot,lt,!1,gt,"data-v-3db91226",null),dt=vt.exports,ft={name:"login",data:function(){return{loginState:+localStorage.getItem("loginState")}},computed:v()({},Object(d.c)(["LEVEL"])),methods:v()({logout:function(){var t=this;m.a.logoutFn().then(function(n){var e=n.data;200===e.code&&(console.log(e),localStorage.setItem("loginState",0),t.LOGIN_STATE(0),location.reload())})}},Object(d.d)(["LOGIN_STATE"])),components:{loginTop:O,loginIcons:R,loginIconsTop:W,loginIconsBottom:at,loginBottom:dt}},pt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"login-menu"},[e("login-top",{attrs:{loginState:t.loginState}}),t._v(" "),e("login-icons"),t._v(" "),e("login-icons-top"),t._v(" "),e("login-icons-bottom"),t._v(" "),e("login-bottom",{on:{logout:t.logout}})],1)},mt=[],_t={render:pt,staticRenderFns:mt},ht=_t,Ct=e("VU/8"),It=r,kt=Ct(ft,ht,!1,It,"data-v-05b874f2",null),bt=kt.exports,St={name:"",components:{login:bt},computed:v()({},Object(d.c)({loginPage:"LOGIN_PAGE"})),methods:v()({},Object(d.d)(["HIDE_LOGIN"]))},wt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("transition",{attrs:{name:"mask-show"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.loginPage,expression:"loginPage"}],staticClass:"mask",on:{click:t.HIDE_LOGIN,touchmove:function(t){t.preventDefault()}}})]),t._v(" "),e("transition",{attrs:{name:"login-show",mode:"out-in"}},[e("login",{directives:[{name:"show",rawName:"v-show",value:t.loginPage,expression:"loginPage"}],on:{touchmove:function(t){t.preventDefault()}}})],1)],1)},Ot=[],xt={render:wt,staticRenderFns:Ot},Et=xt,Tt=e("VU/8"),Nt=l,Dt=Tt(St,Et,!1,Nt,"data-v-098f8041",null),Gt=Dt.exports,Lt={name:"defaultNav",methods:v()({},Object(d.d)(["SHOW_LOGIN"])),components:{loginPageIsShow:Gt}},yt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("nav",{staticClass:"nav-wrapper"},[e("div",{staticClass:"nav-left"},[e("i",{staticClass:"nav iconnav ripple",on:{click:t.SHOW_LOGIN}})]),t._v(" "),e("ul",{staticClass:"nav-center"},[e("router-link",{staticClass:"nav-title ripple",attrs:{tag:"li",replace:"",to:"/home"}},[t._v("我的")]),t._v(" "),e("router-link",{staticClass:"nav-title ripple",attrs:{tag:"li",replace:"",to:"/find"}},[t._v("发现")]),t._v(" "),e("router-link",{staticClass:"nav-title ripple",attrs:{tag:"li",replace:"",to:"/friend"}},[t._v("朋友")]),t._v(" "),e("router-link",{staticClass:"nav-title ripple",attrs:{tag:"li",replace:"",to:"/videoPage"}},[t._v("视频")])],1),t._v(" "),e("div",{staticClass:"nav-right"},[e("router-link",{staticClass:"nav iconsousuo ripple",attrs:{to:"/search",tag:"i"}})],1),t._v(" "),e("login-page-is-show")],1),t._v(" "),e("keep-alive",[e("router-view")],1)],1)},Ut=[],jt={render:yt,staticRenderFns:Ut},$t=jt,Bt=e("VU/8"),Pt=u,Ft=Bt(Lt,$t,!1,Pt,"data-v-12fd4d6a",null);n.default=Ft.exports},NjLb:function(t,n){},aBQi:function(t,n){},bCe2:function(t,n){},isCx:function(t,n){},kQek:function(t,n){},wCpT:function(t,n){}});
//# sourceMappingURL=8.4ff6079543efa5a558c1.js.map