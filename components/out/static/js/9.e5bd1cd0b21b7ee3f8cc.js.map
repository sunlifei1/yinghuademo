{"version":3,"sources":["webpack:///static/js/9.e5bd1cd0b21b7ee3f8cc.js","webpack:///./src/base/button.vue","webpack:///src/base/button.vue","webpack:///./src/base/button.vue?afa5","webpack:///./src/base/alert.vue","webpack:///src/base/alert.vue","webpack:///./src/base/alert.vue?555e","webpack:///./src/base/loading.vue","webpack:///./src/pages/loginIndex/components/phonePwd.vue","webpack:///src/base/loading.vue","webpack:///./src/base/loading.vue?6508","webpack:///src/pages/loginIndex/components/phonePwd.vue","webpack:///./src/pages/loginIndex/components/phonePwd.vue?c348","webpack:///./src/assets/utils/getPhone.js"],"names":["webpackJsonp","4FER","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","name","props","title","type","String","default","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","_s","staticRenderFns","esExports","normalizeComponent","__vue_styles__","Component","5GM0","exports","Fhvg","alert","isAlert","Boolean","directives","rawName","value","expression","M8gZ","Object","defineProperty","getPhone","base_button","base_alert","isLoading","api","accountLogin","data","pwd","alertText","loading","flag","components","loginBtn","methods","clearInput","alertEvent","timer","clearTimeout","setTimeout","_getLoginState","goForget","$router","push","_getUserDetail","passwordIsCorrect","_isSure","phone","success","LoadingEnd","error","msg","logon","Loading","changFocus","$nextTick","created","domProps","on","$event","target","composing","nativeOn","PgtU","WBdd","Xtw0","yG2O","RegExp","exec","window","location","hash"],"mappings":"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","file":"static/js/9.e5bd1cd0b21b7ee3f8cc.js","sourcesContent":["webpackJsonp([9],{\n\n/***/ \"4FER\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/base/button.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var base_button = ({\n  name: 'loginBtn',\n  // 定义默认的 button 内容为下一步\n  props: {\n    title: {\n      type: String,\n      default: '下一步'\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ef41c79a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/button.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn\"},[_c('button',{attrs:{\"id\":\"btn\"}}),_vm._v(\" \"),_c('label',{ref:\"btnText\",staticClass:\"label\",attrs:{\"for\":\"btn\"}},[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_base_button = (esExports);\n// CONCATENATED MODULE: ./src/base/button.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"5GM0\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ef41c79a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  base_button,\n  selectortype_template_index_0_src_base_button,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_base_button = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"5GM0\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Fhvg\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/base/alert.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var base_alert = ({\n  name: 'alert',\n  props: {\n    alert: {\n      type: String\n    },\n    isAlert: {\n      type: Boolean\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6389854b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/alert.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isAlert),expression:\"isAlert\"}],staticClass:\"alert\"},[_vm._v(_vm._s(_vm.alert))])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_base_alert = (esExports);\n// CONCATENATED MODULE: ./src/base/alert.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"WBdd\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6389854b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  base_alert,\n  selectortype_template_index_0_src_base_alert,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_base_alert = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"M8gZ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/assets/utils/getPhone.js\nvar getPhone = __webpack_require__(\"yG2O\");\n\n// EXTERNAL MODULE: ./src/base/button.vue + 2 modules\nvar base_button = __webpack_require__(\"4FER\");\n\n// EXTERNAL MODULE: ./src/base/alert.vue + 2 modules\nvar base_alert = __webpack_require__(\"Fhvg\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/base/loading.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var loading = ({\n  name: 'alert',\n  props: {\n    isLoading: {\n      type: Boolean\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fcd16f1c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/loading.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"loading\"},[_c('p')])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var base_loading = (esExports);\n// CONCATENATED MODULE: ./src/base/loading.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"Xtw0\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fcd16f1c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  loading,\n  base_loading,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_base_loading = (Component.exports);\n\n// EXTERNAL MODULE: ./src/api/index.js + 1 modules\nvar api = __webpack_require__(\"gyMJ\");\n\n// EXTERNAL MODULE: ./src/pages/loginIndex/components/accountLogin.vue + 2 modules\nvar accountLogin = __webpack_require__(\"fukQ\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/pages/loginIndex/components/phonePwd.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n/* harmony default export */ var phonePwd = ({\n  name: 'phonePwd',\n  data: function data() {\n    return {\n      pwd: '',\n      alert: false,\n      alertText: '用户名或密码错误',\n      title: '登录',\n      loading: false,\n      flag: true\n    };\n  },\n\n  components: {\n    loginBtn: base_button[\"a\" /* default */],\n    alert: base_alert[\"a\" /* default */],\n    loading: src_base_loading,\n    accountLogin: accountLogin[\"a\" /* default */]\n  },\n  methods: {\n    /**\n     * 输入框内容为空\n     */\n    clearInput: function clearInput() {\n      this.pwd = '';\n    },\n\n    /**\n     * 提示组件的事件\n     */\n    alertEvent: function alertEvent() {\n      var _this = this;\n\n      // 如果输入内容不合法，提示组件显示\n      // 显示一段时间后隐藏\n      if (this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n      }\n      this.alert = true;\n      // 1s 后隐藏组件\n      this.timer = setTimeout(function () {\n        _this.alert = false;\n      }, 1000);\n    },\n\n    /**\n     * 登陆成功后存取登录状态及信息\n     */\n    _getLoginState: function _getLoginState() {\n      var _this2 = this;\n\n      api[\"a\" /* default */].loginStatusFn().then(function (res) {\n        // 存取用户 id\n        var userId = res.data.profile.userId;\n        if (res.data.code === 200) {\n          // 存取用户信息\n          var accountInfo = res.data.profile;\n          // 成功登陆\n          // 修改状态为 1\n          _this2.$store.commit('LOGIN_STATE', 1);\n          // Vuex在用户刷新的时候loginState会回到默认值false\n          // 所以我们需要用到HTML5储存\n          // 我们设置一个名为loginState\n          localStorage.setItem('loginState', 1);\n          // 存入用户头像 昵称\n          localStorage.setItem('avatarUrl', accountInfo.avatarUrl);\n          localStorage.setItem('nickname', accountInfo.nickname);\n          // 存取用户 uid信息\n          _this2.$store.commit('ACCOUNT_UID', userId);\n          localStorage.setItem('accountUid', userId);\n          _this2._getUserDetail(userId);\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    goForget: function goForget() {\n      var phone = Object(getPhone[\"a\" /* getPhone */])();\n      this.$router.push('/verify?phone=' + phone);\n    },\n\n    /**\n     * 获取用户详情\n     * 等级数据\n     * 到获取完成之后跳转到发现页面\n     * 刷新页面\n     */\n    _getUserDetail: function _getUserDetail(uid) {\n      var _this3 = this;\n\n      api[\"a\" /* default */].userDetailFn(uid).then(function (res) {\n        var data = res.data;\n\n        if (data.code === 200) {\n          _this3.$store.commit('SET_LEVEL', data.level);\n          localStorage.setItem('level', data.level);\n          // 跳转到发现页面\n          _this3.$router.push({ path: '/find' });\n          console.log('跳转了');\n          // location.reload()\n        }\n      });\n    },\n\n    /**\n     * 判断密码是否正确\n     * @param pwd 传入密码内容\n     */\n    passwordIsCorrect: function passwordIsCorrect(pwd) {\n      if (!pwd) {\n        this.alertText = '请输入密码';\n        this.alertEvent();\n      }\n      var phone = Object(getPhone[\"a\" /* getPhone */])();\n      this._isSure(phone, pwd);\n    },\n\n    /**\n     * 判断密码是否正确\n     */\n    _isSure: function _isSure(phone, pwd) {\n      var _this4 = this;\n\n      api[\"a\" /* default */].phoneLoginFn(phone, pwd).then(function (res) {\n        console.log(res);\n        if (res.data.code === 200) {\n          // 密码正确\n          // 将账号存下，以后登录时账号输入框自动填写\n          localStorage.setItem('account', phone);\n          _this4.success();\n        } else {\n          _this4.error(res.data.msg);\n        }\n      })\n      // eslint 报 handle-callback-err 错误 添加 if 判断\n      .catch(function (error) {\n        if (error) {\n          // 密码错误\n          _this4.error();\n        }\n      });\n    },\n\n    /**\n     * 登录成功\n     */\n    success: function success() {\n      // loading 样式隐藏\n      this.LoadingEnd();\n      // 存取登陆状态\n      this._getLoginState();\n    },\n\n    /**\n     * 密码错误登录失败\n     */\n    error: function error(msg) {\n      this.alertText = msg || '用户名或密码错误';\n      // 显示提示信息\n      this.alertEvent();\n      // 输入框内容为空\n      this.clearInput();\n      // loading 样式隐藏\n      this.LoadingEnd();\n      // 登陆按钮的锁去掉\n      this.flag = true;\n    },\n\n    /**\n     * 由于在点击时会触发两次请求 设置flag锁\n     * 点击登录按钮要发生的事件\n     */\n    logon: function logon() {\n      if (this.flag) {\n        if (!this.pwd) {\n          this.alertText = '请输入密码';\n          // 显示提示信息\n          this.alertEvent();\n          return;\n        }\n        this.flag = false;\n        this.Loading();\n        // 判断密码是否正确\n        this.passwordIsCorrect(this.pwd);\n      }\n    },\n\n    /**\n     * 登陆完成 按钮内容复位\n     * loading样式隐藏\n     */\n    LoadingEnd: function LoadingEnd() {\n      // 将按钮内容设置为 登录.\n      this.title = '登录';\n      // 页面显示loading 样式\n      this.loading = false;\n    },\n\n    /**\n     * 登录中的 loading 设置\n     */\n    Loading: function Loading() {\n      // 将按钮内容设置为 登录中...\n      this.title = '登录中...';\n      // 页面显示loading 样式\n      this.loading = true;\n    },\n\n    // 在vue生命周期的created()钩子函数进行的DOM操作要放在Vue.nextTick()的回调函数中，\n    // 因为created()钩子函数执行的时候DOM并未进行任何渲染，而此时进行DOM操作是徒劳的，所以此处一定要将DOM操作的JS代码放进Vue.nextTick()的回调函数中。\n    changFocus: function changFocus() {\n      var _this5 = this;\n\n      this.$nextTick(function (x) {\n        _this5.$refs.inputs.focus();\n      });\n    }\n  },\n  created: function created() {\n    this.changFocus();\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-15d31953\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/loginIndex/components/phonePwd.vue\nvar phonePwd_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('account-login',[_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"inp border-bottom\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pwd),expression:\"pwd\"}],ref:\"inputs\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\",\"autofocus\":\"autofocus\"},domProps:{\"value\":(_vm.pwd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pwd=$event.target.value}}}),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.goForget}},[_vm._v(\"忘记密码\")])]),_vm._v(\" \"),_c('login-btn',{attrs:{\"title\":_vm.title},nativeOn:{\"click\":function($event){return _vm.logon($event)}}}),_vm._v(\" \"),_c('alert',{attrs:{\"is-alert\":_vm.alert,\"alert\":_vm.alertText}}),_vm._v(\" \"),_c('loading',{attrs:{\"is-loading\":_vm.loading}})],1)])}\nvar phonePwd_staticRenderFns = []\nvar phonePwd_esExports = { render: phonePwd_render, staticRenderFns: phonePwd_staticRenderFns }\n/* harmony default export */ var components_phonePwd = (phonePwd_esExports);\n// CONCATENATED MODULE: ./src/pages/loginIndex/components/phonePwd.vue\nfunction phonePwd_injectStyle (ssrContext) {\n  __webpack_require__(\"PgtU\")\n}\nvar phonePwd_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar phonePwd___vue_template_functional__ = false\n/* styles */\nvar phonePwd___vue_styles__ = phonePwd_injectStyle\n/* scopeId */\nvar phonePwd___vue_scopeId__ = \"data-v-15d31953\"\n/* moduleIdentifier (server only) */\nvar phonePwd___vue_module_identifier__ = null\nvar phonePwd_Component = phonePwd_normalizeComponent(\n  phonePwd,\n  components_phonePwd,\n  phonePwd___vue_template_functional__,\n  phonePwd___vue_styles__,\n  phonePwd___vue_scopeId__,\n  phonePwd___vue_module_identifier__\n)\n\n/* harmony default export */ var loginIndex_components_phonePwd = __webpack_exports__[\"default\"] = (phonePwd_Component.exports);\n\n\n/***/ }),\n\n/***/ \"PgtU\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"WBdd\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Xtw0\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"yG2O\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getPhone;\n/*\n * @Author: 李浩栋\n * @Begin: 2019-08-26 13:35:48\n * @Update: 2019-08-26 13:47:13\n * @Update log: 更新日志\n */\nfunction getPhone() {\n  // 创建一个正则表达式\n  var reg = new RegExp(/\\d*$/);\n  // window.location.hash 返回从 “#” 开始的 url\n  // 返回一个数组（未匹配到则返回 null）\n  var phone = reg.exec(window.location.hash)[0];\n  return phone;\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/9.e5bd1cd0b21b7ee3f8cc.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ef41c79a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./button.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./button.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./button.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ef41c79a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./button.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ef41c79a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/button.vue\n// module id = null\n// module chunks = ","<!--\n * @Author: 李浩栋\n * @Begin: 2019-08-14 16:21:48\n * @Update: 2019-08-18 13:43:11\n * @Update log: 通用 button 登录页按钮\n *\n * 使用时传入 button 内容\n -->\n<template>\n  <div class=\"btn\">\n    <button id=\"btn\"></button>\n    <label class=\"label\" for=\"btn\" ref=\"btnText\">{{ title }}</label>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'loginBtn',\n  // 定义默认的 button 内容为下一步\n  props: {\n    title: {\n      type: String,\n      default: '下一步'\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n@import url(\"~styles/global.less\");\n.btn {\n  .flex-center();\n  text-align: center;\n  #btn {\n    position: absolute;\n    clip: rect(0, 0, 0, 0);\n  }\n  .label {\n    box-sizing: border-box;\n    margin-top: 30px;\n    padding: 8px;\n    border-radius: 20px;\n    line-height: 20px;\n    width: 80%;\n    color: #fff;\n    background: @bgcolor;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/base/button.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn\"},[_c('button',{attrs:{\"id\":\"btn\"}}),_vm._v(\" \"),_c('label',{ref:\"btnText\",staticClass:\"label\",attrs:{\"for\":\"btn\"}},[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ef41c79a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/button.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6389854b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./alert.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./alert.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./alert.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6389854b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./alert.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6389854b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/alert.vue\n// module id = null\n// module chunks = ","<!--\n * @Author: 李浩栋\n * @Begin: 2019-08-17 17:10:07\n * @Update: 2019-09-23 17:38:12\n * @Update log: 底部错误信息提示组件\n -->\n<template>\n  <div>\n    <transition>\n      <!-- 调用时传入要显示的内容 -->\n      <div class=\"alert\" v-show=\"isAlert\">{{ alert }}</div>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'alert',\n  props: {\n    alert: {\n      type: String\n    },\n    isAlert: {\n      type: Boolean\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.alert {\n  position: fixed;\n  bottom: 3rem;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 0.13rem;\n  background-color: rgba(170, 170, 170, 0.6);\n  font-size: smaller;\n  border-radius: 8px;\n}\n.v-enter-active,\n.v-leave-active {\n  transition: opacity 0.5s;\n}\n.v-enter,\n.v-leave-to {\n  opacity: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/base/alert.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isAlert),expression:\"isAlert\"}],staticClass:\"alert\"},[_vm._v(_vm._s(_vm.alert))])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6389854b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/alert.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fcd16f1c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./loading.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fcd16f1c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./loading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fcd16f1c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/loading.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-15d31953\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./phonePwd.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./phonePwd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./phonePwd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-15d31953\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./phonePwd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-15d31953\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/loginIndex/components/phonePwd.vue\n// module id = null\n// module chunks = ","<!--\n * @Author: 李浩栋\n * @Begin: 2019-08-17 17:10:07\n * @Update: 2019-08-17 18:46:40\n * @Update log: 页面加载样式\n -->\n<template>\n  <div>\n    <transition>\n      <div class=\"loading\" v-show=\"isLoading\">\n        <p></p>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'alert',\n  props: {\n    isLoading: {\n      type: Boolean\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n@keyframes rotate {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n.loading {\n  position: fixed;\n  bottom: 5rem;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 0.13rem;\n  font-size: smaller;\n  border-radius: 8px;\n  p {\n    width: 50px;\n    height: 50px;\n    border: 3px solid #ccc;\n    border-top-color: #666;\n    border-radius: 50%;\n    margin: 0 auto;\n    animation: rotate 1s linear infinite;\n  }\n}\n.v-enter-active,\n.v-leave-active {\n  transition: opacity 0.5s;\n}\n.v-enter,\n.v-leave-to {\n  opacity: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/base/loading.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"loading\"},[_c('p')])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fcd16f1c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/loading.vue\n// module id = null\n// module chunks = ","<!--\n * @Author: 李浩栋\n * @Begin: 2019-08-14 15:42:41\n * @Update: 2020-03-13 22:05:44\n * @Update log: 手机号登录密码页面\n -->\n<template>\n  <account-login>\n    <div class=\"wrapper\">\n      <div class=\"inp border-bottom\">\n        <input type=\"password\" v-model=\"pwd\" placeholder=\"请输入密码\" ref=\"inputs\" autofocus=\"autofocus\" />\n        <span @click=\"goForget\">忘记密码</span>\n      </div>\n      <login-btn @click.native=\"logon\" :title=\"title\"></login-btn>\n      <!-- 设置提示语 -->\n      <alert :is-alert=\"alert\" :alert=\"alertText\"></alert>\n      <loading :is-loading=\"loading\"></loading>\n    </div>\n  </account-login>\n</template>\n\n<script>\nimport { getPhone } from 'utils/getPhone'\nimport loginBtn from 'base/button'\nimport alert from 'base/alert'\nimport loading from 'base/loading'\nimport api from 'api'\nimport accountLogin from './accountLogin'\nexport default {\n  name: 'phonePwd',\n  data () {\n    return {\n      pwd: '',\n      alert: false,\n      alertText: '用户名或密码错误',\n      title: '登录',\n      loading: false,\n      flag: true\n    }\n  },\n  components: {\n    loginBtn,\n    alert,\n    loading,\n    accountLogin\n  },\n  methods: {\n    /**\n     * 输入框内容为空\n     */\n    clearInput () {\n      this.pwd = ''\n    },\n    /**\n     * 提示组件的事件\n     */\n    alertEvent () {\n      // 如果输入内容不合法，提示组件显示\n      // 显示一段时间后隐藏\n      if (this.timer) {\n        clearTimeout(this.timer)\n        this.timer = null\n      }\n      this.alert = true\n      // 1s 后隐藏组件\n      this.timer = setTimeout(() => {\n        this.alert = false\n      }, 1000)\n    },\n    /**\n     * 登陆成功后存取登录状态及信息\n     */\n    _getLoginState () {\n      api.loginStatusFn()\n        .then(res => {\n          // 存取用户 id\n          let userId = res.data.profile.userId\n          if (res.data.code === 200) {\n            // 存取用户信息\n            let accountInfo = res.data.profile\n            // 成功登陆\n            // 修改状态为 1\n            this.$store.commit('LOGIN_STATE', 1)\n            // Vuex在用户刷新的时候loginState会回到默认值false\n            // 所以我们需要用到HTML5储存\n            // 我们设置一个名为loginState\n            localStorage.setItem('loginState', 1)\n            // 存入用户头像 昵称\n            localStorage.setItem('avatarUrl', accountInfo.avatarUrl)\n            localStorage.setItem('nickname', accountInfo.nickname)\n            // 存取用户 uid信息\n            this.$store.commit('ACCOUNT_UID', userId)\n            localStorage.setItem('accountUid', userId)\n            this._getUserDetail(userId)\n          }\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    },\n    goForget () {\n      const phone = getPhone()\n      this.$router.push(`/verify?phone=${phone}`)\n    },\n    /**\n     * 获取用户详情\n     * 等级数据\n     * 到获取完成之后跳转到发现页面\n     * 刷新页面\n     */\n    _getUserDetail (uid) {\n      api.userDetailFn(uid)\n        .then(res => {\n          const { data } = res\n          if (data.code === 200) {\n            this.$store.commit('SET_LEVEL', data.level)\n            localStorage.setItem('level', data.level)\n            // 跳转到发现页面\n            this.$router.push({ path: '/find' })\n            console.log('跳转了')\n            // location.reload()\n          }\n        })\n    },\n    /**\n     * 判断密码是否正确\n     * @param pwd 传入密码内容\n     */\n    passwordIsCorrect (pwd) {\n      if (!pwd) {\n        this.alertText = '请输入密码'\n        this.alertEvent()\n      }\n      let phone = getPhone()\n      this._isSure(phone, pwd)\n    },\n    /**\n     * 判断密码是否正确\n     */\n    _isSure (phone, pwd) {\n      api.phoneLoginFn(phone, pwd)\n        .then(res => {\n          console.log(res)\n          if (res.data.code === 200) {\n            // 密码正确\n            // 将账号存下，以后登录时账号输入框自动填写\n            localStorage.setItem('account', phone)\n            this.success()\n          } else {\n            this.error(res.data.msg)\n          }\n        })\n        // eslint 报 handle-callback-err 错误 添加 if 判断\n        .catch(error => {\n          if (error) {\n            // 密码错误\n            this.error()\n          }\n        })\n    },\n    /**\n     * 登录成功\n     */\n    success () {\n      // loading 样式隐藏\n      this.LoadingEnd()\n      // 存取登陆状态\n      this._getLoginState()\n    },\n    /**\n     * 密码错误登录失败\n     */\n    error (msg) {\n      this.alertText = msg || '用户名或密码错误'\n      // 显示提示信息\n      this.alertEvent()\n      // 输入框内容为空\n      this.clearInput()\n      // loading 样式隐藏\n      this.LoadingEnd()\n      // 登陆按钮的锁去掉\n      this.flag = true\n    },\n    /**\n     * 由于在点击时会触发两次请求 设置flag锁\n     * 点击登录按钮要发生的事件\n     */\n    logon () {\n      if (this.flag) {\n        if (!this.pwd) {\n          this.alertText = '请输入密码'\n          // 显示提示信息\n          this.alertEvent()\n          return\n        }\n        this.flag = false\n        this.Loading()\n        // 判断密码是否正确\n        this.passwordIsCorrect(this.pwd)\n      }\n    },\n    /**\n     * 登陆完成 按钮内容复位\n     * loading样式隐藏\n     */\n    LoadingEnd () {\n      // 将按钮内容设置为 登录.\n      this.title = '登录'\n      // 页面显示loading 样式\n      this.loading = false\n    },\n    /**\n     * 登录中的 loading 设置\n     */\n    Loading () {\n      // 将按钮内容设置为 登录中...\n      this.title = '登录中...'\n      // 页面显示loading 样式\n      this.loading = true\n    },\n    // 在vue生命周期的created()钩子函数进行的DOM操作要放在Vue.nextTick()的回调函数中，\n    // 因为created()钩子函数执行的时候DOM并未进行任何渲染，而此时进行DOM操作是徒劳的，所以此处一定要将DOM操作的JS代码放进Vue.nextTick()的回调函数中。\n    changFocus () {\n      this.$nextTick(x => {\n        this.$refs.inputs.focus()\n      })\n    }\n  },\n  created () {\n    this.changFocus()\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n@import url(\"~styles/global.less\");\n\n.wrapper {\n  box-sizing: border-box;\n  padding: 0.23rem;\n  .inp {\n    padding-bottom: 0.1rem;\n    display: flex;\n    align-items: center;\n    margin-top: 1rem;\n    input[type=\"password\"] {\n      // IE：不管该行有没有文字，光标高度与font-size一致。\n      // FF：该行有文字时，光标高度与font-size一致。该行无文字时，光标高度与input的height一致。\n      // Chrome：该行无文字时，光标高度与line-height一致；该行有文字时，光标高度从input顶部到文字底部(这两种情况都是在有设定line-height的时候)，如果没有line-height，则是与font-size一致。\n      // 解决的方案：\n      // 给input的height设定一个较小的高度，然后用padding去填充，基本上可以解决所有浏览器的问题\n      height: 16px;\n      padding: 4px 0px;\n      font-size: 0.24rem;\n      // ---------------------------\n      margin-left: 10px;\n      flex: 1;\n      // 修改 input 输入框里闪烁光标的颜色\n      caret-color: @bgcolor;\n    }\n  }\n  .border-bottom::before {\n    border-color: #aaa;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/loginIndex/components/phonePwd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('account-login',[_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"inp border-bottom\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pwd),expression:\"pwd\"}],ref:\"inputs\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\",\"autofocus\":\"autofocus\"},domProps:{\"value\":(_vm.pwd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pwd=$event.target.value}}}),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.goForget}},[_vm._v(\"忘记密码\")])]),_vm._v(\" \"),_c('login-btn',{attrs:{\"title\":_vm.title},nativeOn:{\"click\":function($event){return _vm.logon($event)}}}),_vm._v(\" \"),_c('alert',{attrs:{\"is-alert\":_vm.alert,\"alert\":_vm.alertText}}),_vm._v(\" \"),_c('loading',{attrs:{\"is-loading\":_vm.loading}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-15d31953\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/loginIndex/components/phonePwd.vue\n// module id = null\n// module chunks = ","/*\n * @Author: 李浩栋\n * @Begin: 2019-08-26 13:35:48\n * @Update: 2019-08-26 13:47:13\n * @Update log: 更新日志\n */\nexport function getPhone () {\n  // 创建一个正则表达式\n  let reg = new RegExp(/\\d*$/)\n  // window.location.hash 返回从 “#” 开始的 url\n  // 返回一个数组（未匹配到则返回 null）\n  let phone = reg.exec(window.location.hash)[0]\n  return phone\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/utils/getPhone.js"],"sourceRoot":""}